/**************************************************
LEADTOOLS (C) 1991-2018 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Document.js
// Version:20.0.0.23
var __extends=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,g){b.__proto__=g}||function(b,g){for(var c in g)g.hasOwnProperty(c)&&(b[c]=g[c])};return function(f,g){function c(){this.constructor=f}b(f,g);f.prototype=null===g?Object.create(g):(c.prototype=g.prototype,new c)}}(),lt;
(function(b){(function(f){var g;(function(a){a[a.unknown=0]="unknown";a[a.ean13=1]="ean13";a[a.ean8=2]="ean8";a[a.upca=3]="upca";a[a.upce=4]="upce";a[a.code3Of9=5]="code3Of9";a[a.code128=6]="code128";a[a.codeInterleaved2Of5=7]="codeInterleaved2Of5";a[a.codabar=8]="codabar";a[a.uccean128=9]="uccean128";a[a.code93=10]="code93";a[a.eanext5=11]="eanext5";a[a.eanext2=12]="eanext2";a[a.msi=13]="msi";a[a.code11=14]="code11";a[a.codeStandard2Of5=15]="codeStandard2Of5";a[a.gs1Databar=16]="gs1Databar";a[a.gs1DatabarLimited=
17]="gs1DatabarLimited";a[a.gs1DatabarExpanded=18]="gs1DatabarExpanded";a[a.patchCode=19]="patchCode";a[a.postNet=20]="postNet";a[a.planet=21]="planet";a[a.australianPost4State=22]="australianPost4State";a[a.royalMail4State=23]="royalMail4State";a[a.usps4State=24]="usps4State";a[a.gs1DatabarStacked=25]="gs1DatabarStacked";a[a.gs1DatabarExpandedStacked=26]="gs1DatabarExpandedStacked";a[a.pdf417=27]="pdf417";a[a.microPDF417=28]="microPDF417";a[a.datamatrix=29]="datamatrix";a[a.qr=30]="qr";a[a.aztec=
31]="aztec";a[a.maxi=32]="maxi";a[a.microQR=33]="microQR";a[a.pharmaCode=34]="pharmaCode"})(g=f.BarcodeSymbology||(f.BarcodeSymbology={}));var c=function(){function a(){this._symbology=g.unknown;this._bounds=b.LeadRectD.empty;this._rotationAngle=0;this._data=[];this._value=""}a.fromJson=function(e){if(null==e)return null;var d=new a;return!d.copyFromJson(e)?null:d};a.prototype.copyFromJson=function(e){if(null==e||!b.Document.Internal.PropertyBag.copyMatchingProperties(e,this,["data"]))return!1;e=
e.data;null!=e&&0<e.length&&(this._data=b.LTHelper.base64Decode(e));return!0};Object.defineProperty(a.prototype,"symbology",{get:function(){return this._symbology},set:function(e){this._symbology=e},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(e){this._bounds=e},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(e){this._rotationAngle=
e},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!0,configurable:!0});return a}();f.BarcodeData=c})(b.Barcode||(b.Barcode={}))})(lt||(lt={}));
(function(b){(function(b){var g;(function(d){d[d.auto=0]="auto";d[d.disabled=1]="disabled";d[d.always=2]="always"})(g=b.DocumentConverterSvgImagesRecognitionMode||(b.DocumentConverterSvgImagesRecognitionMode={}));var c;(function(d){d[d.none=0]="none";d[d.skip=1]="skip";d[d.skipIgnoreAnnotations=2]="skipIgnoreAnnotations"})(c=b.DocumentConverterEmptyPageMode||(b.DocumentConverterEmptyPageMode={}));var a;(function(d){d[d.abort=0]="abort";d[d.resume=1]="resume"})(a=b.DocumentConverterJobErrorMode||(b.DocumentConverterJobErrorMode=
{}));var e;(function(d){d[d.none=0]="none";d[d.external=1]="external";d[d.overlay=2]="overlay";d[d.embed=3]="embed"})(e=b.DocumentConverterAnnotationsMode||(b.DocumentConverterAnnotationsMode={}));var d=function(){return function(){this.jobErrorMode=a.resume;this.pageNumberingTemplate="##name##_Page(##page##).##extension##";this.enableSvgConversion=!0;this.svgImagesRecognitionMode=g.auto;this.emptyPageMode=c.none;this.preprocessorInvert=this.preprocessorOrient=this.preprocessorDeskew=!1;this.inputDocumentLastPageNumber=
this.inputDocumentFirstPageNumber=0;this.documentFormat=b.Writer.DocumentFormat.user;this.documentOptions=null;this.rasterImageFormat=b.RasterImageFormat.unknown;this.rasterImageBitsPerPixel=0;this.jobName=null;this.annotationsMode=e.none;this.annotations=this.documentName=null}}();b.DocumentConverterJobData=d})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(g){var c=function(){function d(){}d.runConvertJob=function(a,c){var j=b.Service.Custom.createEndpointUrl(d._controllerName,"Run"),j=b.Service.Custom.createPostAjaxSettings(j,{documentId:a,jobData:c,userData:b.DocumentFactory.serviceUserData}),p=$.Deferred();b.Service.Custom.requestAjax(this,d._className,"RunConvertJob",j).done(function(d){var a=e.fromJson(d);p.resolve(a,b.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(p.reject);return p.promise()};d.queryConvertJobStatus=
function(e,c){var j=b.Service.Custom.createEndpointUrl(d._controllerName,"Query"),j=b.Service.Custom.createPostAjaxSettings(j,{userToken:e,jobToken:c,userData:b.DocumentFactory.serviceUserData}),p=$.Deferred();b.Service.Custom.requestAjax(this,d._className,"QueryConvertJobStatus",j).done(function(d){var e=a.fromJson(d.jobData);p.resolve(e,b.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(p.reject);return p.promise()};d.deleteConvertJob=function(e,a){var c=b.Service.Custom.createEndpointUrl(d._controllerName,
"Delete"),c=b.Service.Custom.createPostAjaxSettings(c,{userToken:e,jobToken:a,userData:b.DocumentFactory.serviceUserData}),p=$.Deferred();b.Service.Custom.requestAjax(this,d._className,"DeleteConvertJob",c).done(function(d){p.resolve(b.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(p.reject);return p.promise()};d.abortConvertJob=function(e,a){var c=b.Service.Custom.createEndpointUrl(d._controllerName,"Abort"),c=b.Service.Custom.createPostAjaxSettings(c,{userToken:e,jobToken:a,userData:b.DocumentFactory.serviceUserData}),
p=$.Deferred();b.Service.Custom.requestAjax(this,d._className,"AbortConvertJob",c).done(function(d){p.resolve(b.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(p.reject);return p.promise()};d._className="StatusJobDataRunner";d._controllerName="StatusJobConverter";return d}();g.StatusJobDataRunner=c;var a=function(){function d(){this._outputCacheConfiguration=this._outputCachePolicy=this._outputDocumentId=this._outputDocumentUri=this._documentFormat=this._rasterImageFormat=this._rasterImageBitsPerPixel=
this._documentWriterOptions=null;this._inputDocumentFirstPageNumber=this._inputDocumentLastPageNumber=-1;this._jobStartedTimestamp=this._jobCompletedTimestamp=this._errorMessages=this._documentConverterOptions=this._annotationsMode=this._ocrEngineName=this._ocrEngineStartupParameters=this._ocrEngineSettings=this._inputCacheConfiguration=this._inputDocumentId=null;this._isCompleted=this._abort=!1;this._jobName=this._jobToken=this._userToken=this._statusCacheConfiguration=this._statusCachePolicy=this._userData=
this._queryJobStatusTimestamp=this._jobStatusTimestamp=this._jobStatusMessage=this._jobStatus=null}d.fromJson=function(e){if(!e)return null;var a=new d;return!a.copyFromJson(e)?null:a};d.prototype.copyFromJson=function(d){return!d?!1:b.Internal.PropertyBag.copyMatchingProperties(d,this,null)};Object.defineProperty(d.prototype,"documentWriterOptions",{get:function(){return this._documentWriterOptions},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"rasterImageBitsPerPixel",{get:function(){return this._rasterImageBitsPerPixel},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"rasterImageFormat",{get:function(){return this._rasterImageFormat},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"documentFormat",{get:function(){return this._documentFormat},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outputDocumentUri",{get:function(){return this._outputDocumentUri},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outputDocumentId",{get:function(){return this._outputDocumentId},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outputCachePolicy",{get:function(){return this._outputCachePolicy},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"outputCacheConfiguration",{get:function(){return this._outputCacheConfiguration},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"inputDocumentLastPageNumber",{get:function(){return this._inputDocumentLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,
"inputDocumentFirstPageNumber",{get:function(){return this._inputDocumentFirstPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"inputDocumentId",{get:function(){return this._inputDocumentId},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"inputCacheConfiguration",{get:function(){return this._inputCacheConfiguration},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"ocrEngineSettings",{get:function(){return this._ocrEngineSettings},enumerable:!0,
configurable:!0});Object.defineProperty(d.prototype,"ocrEngineStartupParameters",{get:function(){return this._ocrEngineStartupParameters},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"ocrEngineName",{get:function(){return this._ocrEngineName},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"annotationsMode",{get:function(){return this._annotationsMode},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"documentConverterOptions",{get:function(){return this._documentConverterOptions},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"errorMessages",{get:function(){return this._errorMessages},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobCompletedTimestamp",{get:function(){return this._jobCompletedTimestamp},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobStartedTimestamp",{get:function(){return this._jobStartedTimestamp},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"abort",{get:function(){return this._abort},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"isCompleted",{get:function(){return this._isCompleted},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobStatus",{get:function(){return this._jobStatus},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobStatusMessage",{get:function(){return this._jobStatusMessage},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobStatusTimestamp",{get:function(){return this._jobStatusTimestamp},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"queryJobStatusTimestamp",{get:function(){return this._queryJobStatusTimestamp},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"statusCachePolicy",{get:function(){return this._statusCachePolicy},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"statusCacheConfiguration",{get:function(){return this._statusCacheConfiguration},
enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"userToken",{get:function(){return this._userToken},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobToken",{get:function(){return this._jobToken},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobName",{get:function(){return this._jobName},enumerable:!0,configurable:!0});return d}();g.StatusJobData=a;var e=function(){function d(){this._jobToken=this._userToken=null}d.fromJson=function(e){if(!e)return null;
var a=new d;return!a.copyFromJson(e)?null:a};d.prototype.copyFromJson=function(d){return!d?!1:b.Internal.PropertyBag.copyMatchingProperties(d,this,null)};Object.defineProperty(d.prototype,"userToken",{get:function(){return this._userToken},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"jobToken",{get:function(){return this._jobToken},enumerable:!0,configurable:!0});return d}();g.RunConvertJobResult=e;(function(d){d[d.success=0]="success";d[d.successWithErrors=1]="successWithErrors";
d[d.aborted=2]="aborted"})(g.DocumentConverterJobStatus||(g.DocumentConverterJobStatus={}))})(b.Converter||(b.Converter={}))})(b.Document||(b.Document={}))})(lt||(lt={}));(function(b){(function(b){var g=function(){function c(a){this._document=a}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});return c}();b.DocumentBarcodes=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(c){function a(e){var d=c.call(this)||this;d._document=null;d._internalAddCount=0;e&&(d._document=e);return d}__extends(a,c);a.prototype.dispose=function(){this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});a.prototype.beginAdd=function(){this._internalAddCount++};a.prototype.endAdd=function(){this._internalAddCount--};a.prototype.insertItem=function(e,d){if(0===this._internalAddCount)throw Error("This operation is not supported");
if(!d)throw Error("Item cannot be null");c.prototype.insertItem.call(this,e,d);this._document.documentsAddedRemoved(d,!0)};a.prototype.removeItem=function(e){if(0===this._internalAddCount)throw Error("This operation is not supported");var d=this.item(e);c.prototype.removeItem.call(this,e);this._document.documentsAddedRemoved(d,!1)};a.prototype.moveItem=function(){throw Error("This operation is not supported");};a.prototype.setItem=function(){throw Error("This operation is not supported");};a.prototype.clearItems=
function(){throw Error("This operation is not supported");};a.prototype.tryAdd=function(e){this.beginAdd();try{for(var d=0;d<this.count;d++)if(this.item(d)===e)return;this.add(e);f.DocumentFactory.incrementDocumentRef(e)}finally{this.endAdd()}};a.prototype.tryRemove=function(e){for(var d=0,a=this._document.pages.count,c=0;c<a&&2>d;c++)this._document.pages.item(c).document===e&&d++;if(1===d){this.beginAdd();try{this.remove(e),0===f.DocumentFactory.decrementDocumentRef(e)&&this.document.autoDisposeDocuments&&
e.dispose()}finally{this.endAdd()}}};return a}(b.LeadCollection);f.DocumentDocuments=g})(b.Document||(b.Document={}))})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b=b.RasterImageFormat||(b.RasterImageFormat={});b[b.unknown=0]="unknown";b[b.tifJpeg422=24]="tifJpeg422";b[b.ccittGroup4=29]="ccittGroup4";b[b.rasPdfJpeg=150]="rasPdfJpeg";b[b.rasPdfG4=149]="rasPdfG4"})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(){function a(e){this._format=e}Object.defineProperty(a.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0});return a}();b.DocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){var d=a.call(this,b.DocumentFormat.rtf)||this;d.textMode=b.DocumentTextMode.auto;return d}__extends(e,a);return e}(b.DocumentOptions);b.RtfDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c;(function(e){e[e.ansi=0]="ansi";e[e.unicode=1]="unicode";e[e.unicodeBigEndian=2]="unicodeBigEndian";e[e.utf8=3]="utf8"})(c=b.TextDocumentType||(b.TextDocumentType={}));var a=function(e){function d(){var d=e.call(this,b.DocumentFormat.text)||this;d.documentType=c.ansi;d.addPageNumber=!1;d.addPageBreak=!1;d.formatted=!1;return d}__extends(d,e);return d}(b.DocumentOptions);b.TextDocumentOptions=a})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||
(lt={}));(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.svg)||this}__extends(e,a);return e}(b.DocumentOptions);b.SvgDocumentOptions=c;c=function(a){function e(){return a.call(this,b.DocumentFormat.emf)||this}__extends(e,a);return e}(b.DocumentOptions);b.EmfDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.xls)||this}__extends(e,a);return e}(b.DocumentOptions);b.XlsDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c;(function(d){d[d.pdf=0]="pdf";d[d.pdfA=1]="pdfA";d[d.pdf12=2]="pdf12";d[d.pdf13=3]="pdf13";d[d.pdf15=4]="pdf15";d[d.pdf16=5]="pdf16"})(c=b.PdfDocumentType||(b.PdfDocumentType={}));var a;(function(d){d[d.rc40Bit=0]="rc40Bit";d[d.rc128Bit=1]="rc128Bit"})(a=b.PdfDocumentEncryptionMode||(b.PdfDocumentEncryptionMode={}));var e;(function(d){d[d.pageOnly=0]="pageOnly";d[d.fullScreen=3]="fullScreen";d[d.bookmarksAndPage=1]="bookmarksAndPage";d[d.thumbnailAndPage=
2]="thumbnailAndPage";d[d.layerAndPage=4]="layerAndPage";d[d.attachmentsAndPage=5]="attachmentsAndPage"})(e=b.PdfDocumentPageModeType||(b.PdfDocumentPageModeType={}));var d;(function(d){d[d.singlePageDisplay=0]="singlePageDisplay";d[d.oneColumnDisplay=1]="oneColumnDisplay";d[d.twoColumnLeftDisplay=2]="twoColumnLeftDisplay";d[d.twoColumnRightDisplay=3]="twoColumnRightDisplay";d[d.twoPageLeft=4]="twoPageLeft";d[d.twoPageRight=5]="twoPageRight"})(d=b.PdfDocumentPageLayoutType||(b.PdfDocumentPageLayoutType=
{}));var k;(function(d){d[d.defaultType=0]="defaultType";d[d.fitWidth=1]="fitWidth";d[d.fitHeight=2]="fitHeight";d[d.fitWidthBounds=3]="fitWidthBounds";d[d.fitHeightBounds=4]="fitHeightBounds";d[d.fitBounds=5]="fitBounds"})(k=b.PdfDocumentPageFitType||(b.PdfDocumentPageFitType={}));var i=function(i){function f(){var h=i.call(this,b.DocumentFormat.pdf)||this;h.documentType=c.pdf;h.fontEmbedMode=b.DocumentFontEmbedMode.auto;h.imageOverText=!1;h.linearized=!1;h.title=null;h.subject=null;h.keywords=null;
h.author=null;h.isProtected=!1;h.userPassword=null;h.ownerPassword=null;h.encryptionMode=a.rc128Bit;h.printEnabled=!0;h.highQualityPrintEnabled=!0;h.copyEnabled=!0;h.editEnabled=!0;h.annotationsEnabled=!0;h.assemblyEnabled=!1;h.oneBitImageCompression=b.OneBitImageCompressionType.jbig2;h.coloredImageCompression=b.ColoredImageCompressionType.flateJpeg;h.qualityFactor=80;h.imageOverTextSize=b.DocumentImageOverTextSize.original;h.imageOverTextMode=b.DocumentImageOverTextMode.strict;h.initialPageNumber=
1;h.pageModeType=e.pageOnly;h.pageLayoutType=d.singlePageDisplay;h.pageFitType=k.defaultType;h.xCoordinate=0;h.yCoordinate=0;h.zoomPercent=0;h.hideToolbar=!1;h.hideMenubar=!1;h.hideWindowUI=!1;h.fitWindow=!1;h.centerWindow=!1;h.displayDocTitle=!1;return h}__extends(f,i);return f}(b.DocumentOptions);b.PdfDocumentOptions=i})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.xps)||this}__extends(e,a);return e}(b.DocumentOptions);b.XpsDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.pub)||this}__extends(e,a);return e}(b.DocumentOptions);b.PubDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.mob)||this}__extends(e,a);return e}(b.DocumentOptions);b.MobDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){return a.call(this,b.DocumentFormat.ltd)||this}__extends(e,a);return e}(b.DocumentOptions);b.LtdDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){var d=a.call(this,b.DocumentFormat.html)||this;d.fontEmbedMode=b.DocumentFontEmbedMode.none;d.useBackgroundColor=!1;d.backgroundColor="white";return d}__extends(e,a);return e}(b.DocumentOptions);b.HtmlDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){var d=a.call(this,b.DocumentFormat.docx)||this;d.textMode=b.DocumentTextMode.auto;return d}__extends(e,a);return e}(b.DocumentOptions);b.DocxDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c=function(a){function e(){var d=a.call(this,b.DocumentFormat.doc)||this;d.textMode=b.DocumentTextMode.auto;return d}__extends(e,a);return e}(b.DocumentOptions);b.DocDocumentOptions=c})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){var c;(function(e){e[e.mm10=0]="mm10";e[e.inch1200=1]="inch1200";e[e.dpi=2]="dpi";e[e.pixel=3]="pixel"})(c=b.AltoXmlMeasurementUnit||(b.AltoXmlMeasurementUnit={}));var a=function(e){function d(){var d=e.call(this,b.DocumentFormat.altoXml)||this;d.measurementUnit=c.mm10;d.fileName=null;d.processingDateTime=null;d.processingAgency=null;d.processingStepDescription=null;d.processingStepSettings=null;d.softwareCreator=null;d.softwareName=null;d.softwareVersion=null;
d.applicationDescription=null;d.firstPhysicalPageNumber=1;d.formatted=!1;d.indentation="\t";return d}__extends(d,e);return d}(b.DocumentOptions);b.AltoXmlDocumentOptions=a})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){var g=function(){function c(a){this._document=a}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"annotationsUri",{get:function(){return this._document.values.annotationsUri},enumerable:!0,configurable:!0});c.createEmptyContainer=function(a){var e=new ltAnnotationsEngine.AnnContainer;e.size=a.size.clone();a=a.resolution;
e.mapper.mapResolutions(a,a,a,a);return e};c.prototype.getAnnotations=function(a){var e=$.Deferred();if(this.document.isLocal){for(var d=[],k=this.document.pages.count,i=0;i<k;i++)if(a){var j=this.document.pages.item(i),j=c.createEmptyContainer(j);j.pageNumber=i+1;d.push(j)}else d.push(null);return e.resolve(d).promise()}d=b.Service.Custom.createEndpointUrl(c._controllerName,"GetAnnotations");a=b.Service.Custom.createPostAjaxSettings(d,{documentId:this._document.documentId,pageNumber:0,createEmpty:a,
userData:this._document.serviceUserData});b.Service.Custom.requestAjax(this,c._className,"GetAnnotations",a).done(function(d){var a=d.annotations,c=null;null!=a&&(c=(new ltAnnotationsEngine.AnnCodecs).loadAll(a));e.resolve(c,b.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(e.reject);return e.promise()};Object.defineProperty(c.prototype,"modifiedContainers",{get:function(){return this._modifiedContainers},set:function(a){this._modifiedContainers=a},enumerable:!0,configurable:!0});c.prototype.setAnnotations=
function(a){var e=null;null!=a&&(e=(new ltAnnotationsEngine.AnnCodecs).saveAll(a,ltAnnotationsEngine.AnnFormat.annotations));var a=b.Service.Custom.createEndpointUrl(c._controllerName,"SetAnnotations"),e=b.Service.Custom.createPostAjaxSettings(a,{documentId:this._document.documentId,pageNumber:0,annotations:e,userData:this._document.serviceUserData}),d=$.Deferred();b.Service.Custom.requestAjax(this,c._className,"SetAnnotations",e).done(function(e){d.resolve(b.Internal.PropertyBag.normalizeFalsy(e.userData))}).fail(d.reject);
return d.promise()};c._className="DocumentAnnotations";c._controllerName="Page";return c}();b.DocumentAnnotations=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(b){(function(b){b[b.user=-1]="user";b[b.ltd=0]="ltd";b[b.pdf=1]="pdf";b[b.doc=2]="doc";b[b.rtf=3]="rtf";b[b.html=4]="html";b[b.text=5]="text";b[b.emf=6]="emf";b[b.xps=7]="xps";b[b.docx=8]="docx";b[b.xls=9]="xls";b[b.pub=10]="pub";b[b.mob=11]="mob";b[b.svg=12]="svg";b[b.altoXml=13]="altoXml"})(b.DocumentFormat||(b.DocumentFormat={}));(function(b){b[b.none=0]="none";b[b.auto=1]="auto";b[b.force=2]="force";b[b.all=3]="all"})(b.DocumentFontEmbedMode||(b.DocumentFontEmbedMode=
{}));(function(b){b[b.flate=0]="flate";b[b.faxG31D=1]="faxG31D";b[b.faxG32D=2]="faxG32D";b[b.faxG4=3]="faxG4";b[b.lzw=4]="lzw";b[b.jbig2=5]="jbig2"})(b.OneBitImageCompressionType||(b.OneBitImageCompressionType={}));(function(b){b[b.flateJpeg=0]="flateJpeg";b[b.lzwJpeg=1]="lzwJpeg";b[b.flate=2]="flate";b[b.lzw=3]="lzw";b[b.jpeg=4]="jpeg";b[b.flateJpx=5]="flateJpx";b[b.lzwJpx=6]="lzwJpx";b[b.jpx=7]="jpx"})(b.ColoredImageCompressionType||(b.ColoredImageCompressionType={}));(function(b){b[b.original=
0]="original";b[b.half=1]="half";b[b.quarter=2]="quarter"})(b.DocumentImageOverTextSize||(b.DocumentImageOverTextSize={}));(function(b){b[b.none=0]="none";b[b.strict=1]="strict";b[b.relaxed=2]="relaxed"})(b.DocumentImageOverTextMode||(b.DocumentImageOverTextMode={}));(function(b){b[b.auto=0]="auto";b[b.nonFramed=1]="nonFramed";b[b.framed=2]="framed"})(b.DocumentTextMode||(b.DocumentTextMode={}))})(b.Writer||(b.Writer={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(b){function a(e){var d=b.call(this)||this;d._document=null;d._internalAddCount=0;e&&(d._document=e);return d}__extends(a,b);a.prototype.dispose=function(){for(var e=0;e<this.count;e++){var d=this.item(e);d&&d.document===this._document&&d.dispose()}this._document=null};Object.defineProperty(a.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalFirstPageNumber",{get:function(){return this._document.values.originalFirstPageNumber},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalLastPageNumber",{get:function(){return this._document.values.originalLastPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalPageCount",{get:function(){return this._document.values.originalPageCount},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this._document.values.defaultPageSize},set:function(e){if(e.isEmpty)throw Error("Size must not be empty");
this._document.values.defaultPageSize=e.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this._document.values.defaultResolution},set:function(e){if(0>e)throw Error("Value must be greater than or equal to 0");this._document.values.defaultResolution=e},enumerable:!0,configurable:!0});a.prototype.getTargetPageNumber=function(e,d){if(0>=d||!e||e===this._document)return d;if(e.pages.count<d)return 0;var a=this.indexOf(e.pages.item(d-
1));return-1==a?0:a+1};a.prototype.beginAdd=function(){this._internalAddCount++};a.prototype.endAdd=function(){this._internalAddCount--};a.prototype.createPage=function(e,d){return this._createPage(e,d,-1)};a.prototype._createPage=function(e,d,a){return this._document.createPage(e,d,a)};a.prototype.remove=function(e){b.prototype.remove.call(this,e)};a.prototype.add=function(e){b.prototype.add.call(this,e)};a.prototype.addRange=function(e){b.prototype.addRange.call(this,e)};a.prototype.contains=function(e){return b.prototype.contains.call(this,
e)};a.prototype.toArray=function(){return b.prototype.toArray.call(this)};a.prototype.insertItem=function(e,d){if(!d)throw Error("Item cannot be null");0===this._internalAddCount&&this._document.canModify();this._processInsertItem(e,d);b.prototype.insertItem.call(this,e,d);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};a.prototype.insert=function(e,d){b.prototype.insert.call(this,e,d)};a.prototype.insertRange=function(e,d){b.prototype.insertRange.call(this,
e,d)};a.prototype.insertItemRange=function(e,d){if(!d)throw Error("Items cannot be null");0===this._internalAddCount&&this._document.canModify();for(var a=0;a<d.length;a++)this._processInsertItem(e+a,d[a]);b.prototype.insertItemRange.call(this,e,d);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};a.prototype._processInsertItem=function(e,d){d.document?this._document.documents.tryAdd(d.document):d.setDocument(this.document,e+1);d.size.isEmpty&&0===this._internalAddCount&&
d.setSize(this.defaultPageSize)};a.prototype.moveItem=function(e,d){0==this._internalAddCount&&this._document.canModify();b.prototype.moveItem.call(this,e,d)};a.prototype.removeItem=function(e){0===this._internalAddCount&&this._document.canModify();var d=this.item(e);this._processRemoveItem(e,d);b.prototype.removeItem.call(this,e);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};a.prototype.removeItemRange=function(e,d){0===this._internalAddCount&&this._document.canModify();
for(var a=e;a<e+d;a++){var i=this.item(a);this._processRemoveItem(a,i)}b.prototype.removeItemRange.call(this,e,d);0==this._internalAddCount&&(this._document.cacheStatus=f.DocumentCacheStatus.notSynced)};a.prototype._processRemoveItem=function(a,d){d.document!==this._document?this._document.documents.tryRemove(d.document):d.setDocument(null,0)};a.prototype.setItem=function(a,d){if(!d)throw Error("Item cannot be null");0==this._internalAddCount&&this._document.canModify();this.item(a)!==d&&b.prototype.setItem.call(this,
a,d)};a.prototype.clearItems=function(){0==this._internalAddCount&&this._document.canModify();b.prototype.clearItems.call(this)};a.prototype.indexOf=function(a){return b.prototype.indexOf.call(this,a)};a.prototype.item=function(a,d){return b.prototype.item.call(this,a,d)};a.prototype._checkPages=function(a,d){var b=this.count;if(0===b)return 0;if(0>a||a>b)throw Error("FirstPageNumber must be a value equal to or greater than 1 and equal to or less than "+b);-1==d&&(d=b);if(d<a||d>b)throw Error("LastPageNumber must be a value equal to or greater than "+
a+" and equal to or less than "+b);return d};a.prototype.rotate=function(a,d,b){b=this._checkPages(d,b);if(0!=b)for(;d<=b;d++)this.item(d-1).rotate(a)};a.prototype.flip=function(a,d){d=this._checkPages(a,d);if(0!=d)for(var b=a;b<=d;b++)this.item(b-1).flip()};a.prototype.reverse=function(a,d){d=this._checkPages(a,d);if(0!=d)for(var b=a;b<=d;b++)this.item(b-1).reverse()};a.prototype.setViewPerspective=function(a,d,b){b=this._checkPages(d,b);if(0!=b)for(;d<=b;d++)this.item(d-1).viewPerspective=a};return a}(b.LeadCollection);
f.DocumentPages=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){(function(f){var c=function(){function a(){this._size=b.LeadSizeD.empty;this._pageNumber=this._resolution=0;this._originalPageNumber=-1;this._isViewPerspectiveModified=this._hasEmbeddedAnnotations=this._isAnnotationsModified=this._isDeleted=!1;this._viewPerspective=b.RasterViewPerspective.topLeft;this._documentId=null}a.fromJson=function(e){if(!e)return null;var d=new a;return!d.copyFromJson(e)?null:d};a.prototype.copyFromJson=function(a){return!a||!f.PropertyBag.copyMatchingProperties(a,
this,["pageNumber"])?!1:!0};Object.defineProperty(a.prototype,"size",{get:function(){return this._size.clone()},set:function(a){this._size=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"resolution",{get:function(){return this._resolution},set:function(a){this._resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"originalPageNumber",{get:function(){return this._originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(a){this._isDeleted=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isAnnotationsModified",{get:function(){return this._isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasEmbeddedAnnotations",{get:function(){return this._hasEmbeddedAnnotations},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isViewPerspectiveModified",{get:function(){return this._isViewPerspectiveModified},set:function(a){this._isViewPerspectiveModified=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"viewPerspective",{get:function(){return this._viewPerspective},set:function(a){this._viewPerspective=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentId",{get:function(){return this._documentId},set:function(a){this._documentId=
a},enumerable:!0,configurable:!0});return a}();f.DocumentPageValues=c})(f.Internal||(f.Internal={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){var g=function(){function b(){this._bookmarks=[];this._pageLinks=[]}b.prototype.DocumentParseStructureData=function(){};Object.defineProperty(b.prototype,"bookmarks",{get:function(){return this._bookmarks},set:function(a){this._bookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pageLinks",{get:function(){return this._pageLinks},set:function(a){this._pageLinks=a},enumerable:!0,configurable:!0});return b}();b.DocumentParseStructureData=g;g=function(){function c(a){this._document=
null;this._bookmarks=[];if(null==a)throw Error("Document cannot be null");this._document=a}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.prototype.copyFromJson=function(a,e){var d=this;if(!a&&!e)return!1;a&&0<a.length&&(this._bookmarks=[],a.forEach(function(a){var e=new b.DocumentBookmark;e.copyFromJson(a);d._bookmarks.push(e)}));e&&0<e.length&&e.forEach(function(a,e){var b=
d._document.pages.item(e);if(!b||!b.copyLinksFromJson(a))return false});return this._document.values.isStructureParsed=!0};Object.defineProperty(c.prototype,"bookmarks",{get:function(){return this._bookmarks},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"parseBookmarks",{get:function(){return this._document.values.parseBookmarks},set:function(a){this._document.values.parseBookmarks=a;this._document.forEachDocument(function(e){e.structure&&(e.structure.parseBookmarks=a)})},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"parsePageLinks",{get:function(){return this._document.values.parsePageLinks},set:function(a){this._document.values.parsePageLinks=a;this._document.forEachDocument(function(e){e.structure&&(e.structure.parsePageLinks=a)})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParsed",{get:function(){var a=this._document.values.isStructureParsed;if(!a&&this._document.hasDocuments)for(var e=0;e<this._document.documents.count&&!a;e++){var d=
this._document.documents.item(e);d.isStructureSupported&&d.structure.isParsed&&(a=!0)}return a},enumerable:!0,configurable:!0});c.prototype.parse=function(){var a=this,e=$.Deferred();if(this.isParsed)return e.resolve(this._document),e.promise();var d=this._document,k=b.Service.Custom.createEndpointUrl(c._controllerName,"ParseStructure"),d=b.Service.Custom.createPostAjaxSettings(k,{documentId:d.documentId,parseBookmarks:this.parseBookmarks,parsePageLinks:this.parsePageLinks,userData:this._document.serviceUserData});
b.Service.Custom.requestAjax(this,c._className,"Parse",d).done(function(d){if(!d.hasOwnProperty("bookmarks")||!d.hasOwnProperty("pageLinks"))return e.reject(null,null,"Invalid object"),e.promise();a.copyFromJson(d.bookmarks,d.pageLinks)?e.resolve(a._document,b.Internal.PropertyBag.normalizeFalsy(d.userData)):e.reject(null,null,"Invalid object")}).fail(e.reject);return e.promise()};c._className="DocumentStructure";c._controllerName="Structure";return c}();b.DocumentStructure=g})(b.Document||(b.Document=
{}))})(lt||(lt={}));
(function(b){(function(b){(function(b){b[b.auto=0]="auto";b[b.svgOnly=1]="svgOnly";b[b.ocrOnly=2]="ocrOnly"})(b.DocumentTextExtractionMode||(b.DocumentTextExtractionMode={}));var g=function(){function c(a){this._document=a}Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});c.fromJson=function(a,b){if(null==a)return null;var d=new c(b);return!d.copyFromJson(a)?null:d};c.prototype.copyFromJson=function(a){return null==a||!b.Internal.PropertyBag.copyMatchingProperties(a,
this,["document","linkPatterns","defLinkPatterns"])?!1:!0};Object.defineProperty(c.prototype,"textExtractionMode",{get:function(){return this._document.values.textExtractionMode},set:function(a){this._document.values.textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"autoParseLinks",{get:function(){return this._document.values.autoParseLinks},set:function(a){this._document.values.autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"preApplyViewPerspective",{get:function(){return this._document.values.preApplyViewPerspectiveText},set:function(a){this._document.values.preApplyViewPerspectiveText=a;this._document.forEachDocument(function(b){b.text.preApplyViewPerspective=a})},enumerable:!0,configurable:!0});Object.defineProperty(c,"linkPatterns",{get:function(){return c._linkPatterns},enumerable:!0,configurable:!0});c.resetLinkPatterns=function(){c._linkPatterns=[];c._linkPatterns.push(RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]));
c._linkPatterns.push(RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1]))};c._defaultLinkPatterns=["((?:[a-z][\\w-]+:(?:/{1,3}|[a-z0-9%])|www\\d{0,3}[.]|ftp\\d{0,3}[.]|mailto\\d{0,3}[@]|[a-z0-9.\\-]+[.][a-z]{2,4}/)(?:[^\\s()<>]+|\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\))+(?:\\(([^\\s()<>]+|(\\([^\\s()<>]+\\)))*\\)|[^\\s`!()\\[\\]{};:'\".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))","[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"];
c._defaultLinkFlags=["gi","g"];c._linkPatterns=[RegExp(c._defaultLinkPatterns[0],c._defaultLinkFlags[0]),RegExp(c._defaultLinkPatterns[1],c._defaultLinkFlags[1])];return c}();b.DocumentText=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){(function(g){var c=function(){function a(){this._annotationsUri=null;this._defaultBitsPerPixel=0;this._defaultPageSize=b.LeadSizeD.empty;this._defaultResolution=300;this._documentType=this._name=this._documentId=null;this._fileLength=this._originalPageCount=this._originalLastPageNumber=this._originalFirstPageNumber=0;this._isStructureSupported=this._isStructureParsed=this._isReadOnly=this._isEncrypted=this._isDownloaded=this._isDecrypted=!1;this._password=this._mimeType=
null;this._maximumImagePixelSize=0;this._thumbnailPixelSize=b.LeadSizeD.create(128,128);this._unembedSvgImages=!1;this._cacheUri=this._uri=null;this._isResolutionsSupported=this._isSvgViewingPreferred=this._isSvgSupported=!1;this._textExtractionMode=f.DocumentTextExtractionMode.auto;this._parsePageLinks=this._parseBookmarks=this._preApplyViewPerspectiveText=this._autoParseLinks=!0;this._lastCacheSyncTime=null}a.fromJson=function(b){if(null==b)return null;var d=new a;return!d.copyFromJson(b)?null:
d};a.prototype.copyFromJson=function(a){return null==a||!g.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this._annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this._defaultBitsPerPixel},set:function(a){this._defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this._defaultPageSize},
set:function(a){this._defaultPageSize=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this._defaultResolution},set:function(a){this._defaultResolution=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentId",{get:function(){return this._documentId},set:function(a){this._documentId=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this._name},set:function(a){this._name=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentType",{get:function(){return this._documentType},set:function(a){this._documentType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalFirstPageNumber",{get:function(){return this._originalFirstPageNumber},set:function(a){this._originalFirstPageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalLastPageNumber",{get:function(){return this._originalLastPageNumber},
set:function(a){this._originalLastPageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"originalPageCount",{get:function(){return this._originalPageCount},set:function(a){this._originalPageCount=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fileLength",{get:function(){return this._fileLength},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this._isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"isDownloaded",{get:function(){return this._isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isReadOnly",{get:function(){return this._isReadOnly},set:function(a){this._isReadOnly=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureParsed",{get:function(){return this._isStructureParsed},set:function(a){this._isStructureParsed=
a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this._isStructureSupported},set:function(a){this._isStructureSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this._mimeType},set:function(a){this._mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this._password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"maximumImagePixelSize",{get:function(){return this._maximumImagePixelSize},set:function(a){this._maximumImagePixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"thumbnailPixelSize",{get:function(){return this._thumbnailPixelSize},set:function(a){this._thumbnailPixelSize=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"unembedSvgImages",{get:function(){return this._unembedSvgImages},set:function(a){this._unembedSvgImages=a},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this._cacheUri},set:function(a){this._cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgSupported",{get:function(){return this._isSvgSupported},set:function(a){this._isSvgSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isSvgViewingPreferred",{get:function(){return this._isSvgViewingPreferred},
set:function(a){this._isSvgViewingPreferred=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isResolutionsSupported",{get:function(){return this._isResolutionsSupported},set:function(a){this._isResolutionsSupported=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textExtractionMode",{get:function(){return this._textExtractionMode},set:function(a){this._textExtractionMode=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"autoParseLinks",
{get:function(){return this._autoParseLinks},set:function(a){this._autoParseLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"preApplyViewPerspectiveText",{get:function(){return this._preApplyViewPerspectiveText},set:function(a){this._preApplyViewPerspectiveText=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"parseBookmarks",{get:function(){return this._parseBookmarks},set:function(a){this._parseBookmarks=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"parsePageLinks",{get:function(){return this._parsePageLinks},set:function(a){this._parsePageLinks=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",{get:function(){return this._lastCacheSyncTime},set:function(a){this._lastCacheSyncTime=a},enumerable:!0,configurable:!0});return a}();g.DocumentValues=c})(f.Internal||(f.Internal={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function c(a){this._document=a}c.prototype.dispose=function(){this._document=null};Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){var a=this._document.values.isSvgSupported;if(!a&&this._document.hasDocuments)for(var b=0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isSvgSupported;return a},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isSvgViewingPreferred",{get:function(){var a=this._document.values.isSvgViewingPreferred;if(!a&&this._document.hasDocuments)for(var b=0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isSvgViewingPreferred;return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isResolutionsSupported",{get:function(){var a=this._document.values.isResolutionsSupported;if(!a&&this._document.hasDocuments)for(var b=
0;b<this._document.documents.count&&!a;b++)a=this._document.documents.item(b).images.isResolutionsSupported;return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"defaultBitsPerPixel",{get:function(){return this._document.defaultBitsPerPixel},set:function(a){switch(a){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 12:case 16:case 24:case 32:case 48:case 64:break;default:throw Error("Invalid bits per pixel value");}this._document.defaultBitsPerPixel=a;this._document.forEachDocument(function(b){b.images.defaultBitsPerPixel=
a})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"maximumImagePixelSize",{get:function(){return this._document.values.maximumImagePixelSize},set:function(a){if(0>a)throw Error("Must have a value equal to or greater than 0");this._document.values.maximumImagePixelSize=a;this._document.forEachDocument(function(b){b.images.maximumImagePixelSize=a})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"thumbnailPixelSize",{get:function(){return this._document.values.thumbnailPixelSize},
set:function(a){if(a.isEmpty||0>a.width||0>a.height)throw Error("Must have width and height values greater than 0");this._document.values.thumbnailPixelSize=a;this._document.forEachDocument(function(b){b.images.thumbnailPixelSize=a})},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"unembedSvgImages",{get:function(){return this._document.values.unembedSvgImages},set:function(a){this._document.values.unembedSvgImages=a;this._document.forEachDocument(function(b){b.images.unembedSvgImages=
a})},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementAjaxMethod",{get:function(){return c._elementAjaxMethod},set:function(a){c._elementAjaxMethod=a.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(c,"elementUrlMode",{get:function(){return c._elementUrlMode},set:function(a){c._elementUrlMode=a},enumerable:!0,configurable:!0});c.getImageScale=function(a,b){if(0==b||a.isEmpty||0==a.width||0==a.height)return 1;var d=1;if(a.width>b||a.height>b)d=a.width>a.height?a.width/
b:a.height/b;return d};c.scaleImageSize=function(a,e){return 1==e?a.clone():b.LeadSizeD.create(a.width*e+0.5|0,a.height*e+0.5|0)};c.prototype.getThumbnailsGridUrlParams=function(a,b,d){var k=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,firstPageNumber:a,lastPageNumber:b,maximumGridWidth:d,width:k.width,height:k.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailsGrid=function(a,b,d){return this.getThumbnailsGridUrl(a,b,d)};c.prototype.getThumbnailsGridUrl=
function(a,b,d){return f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getThumbnailsGridActionName,this.getThumbnailsGridUrlParams(a,b,d),!0)};c.prototype.getThumbnailsGridElement=function(a,b,d,k){var i=$.Deferred(),j=f.Service.Custom.createEndpointUrl(c._controllerName,c._getThumbnailsGridActionName),a=this.getThumbnailsGridUrlParams(a,b,d);return f.Internal.ImageRequestHelper.doGenericElementLoad(this,i,k,j,a,c._className,c._getThumbnailsGridMethodName)};c.rotateViewPerspective=function(a,
b){for(;0>b;)b+=360;for(;360<=b;)b-=360;switch(b){case 0:break;case 270:a=c.rotateViewPerspective90(a);case 180:a=c.rotateViewPerspective90(a);case 90:a=c.rotateViewPerspective90(a);break;default:throw Error("Angle must be in increment of 90 degrees");}return a};c.rotateViewPerspective90=function(a){switch(a){case b.RasterViewPerspective.topLeft:return b.RasterViewPerspective.topLeft90;case b.RasterViewPerspective.topLeft90:return b.RasterViewPerspective.topLeft180;case b.RasterViewPerspective.topLeft180:return b.RasterViewPerspective.topLeft270;
case b.RasterViewPerspective.topLeft270:return b.RasterViewPerspective.topLeft;case b.RasterViewPerspective.bottomLeft:return b.RasterViewPerspective.bottomLeft90;case b.RasterViewPerspective.bottomLeft90:return b.RasterViewPerspective.bottomLeft180;case b.RasterViewPerspective.bottomLeft180:return b.RasterViewPerspective.bottomLeft270;case b.RasterViewPerspective.bottomLeft270:return b.RasterViewPerspective.bottomLeft;default:return a}};c.reverseViewPerspective=function(a){switch(a){case b.RasterViewPerspective.topLeft:a=
b.RasterViewPerspective.topRight;break;case b.RasterViewPerspective.topRight:a=b.RasterViewPerspective.topLeft;break;case b.RasterViewPerspective.bottomLeft:a=b.RasterViewPerspective.bottomRight;break;case b.RasterViewPerspective.bottomRight:a=b.RasterViewPerspective.bottomLeft;break;case b.RasterViewPerspective.leftTop:a=b.RasterViewPerspective.rightTop;break;case b.RasterViewPerspective.rightTop:a=b.RasterViewPerspective.leftTop;break;case b.RasterViewPerspective.leftBottom:a=b.RasterViewPerspective.rightBottom;
break;case b.RasterViewPerspective.rightBottom:a=b.RasterViewPerspective.leftBottom}return a};c.flipViewPerspective=function(a){switch(a){case b.RasterViewPerspective.topLeft:a=b.RasterViewPerspective.bottomLeft;break;case b.RasterViewPerspective.bottomLeft:a=b.RasterViewPerspective.topLeft;break;case b.RasterViewPerspective.topRight:a=b.RasterViewPerspective.bottomRight;break;case b.RasterViewPerspective.bottomRight:a=b.RasterViewPerspective.topRight;break;case b.RasterViewPerspective.leftTop:a=
b.RasterViewPerspective.leftBottom;break;case b.RasterViewPerspective.leftBottom:a=b.RasterViewPerspective.leftTop;break;case b.RasterViewPerspective.rightTop:a=b.RasterViewPerspective.rightBottom;break;case b.RasterViewPerspective.rightBottom:a=b.RasterViewPerspective.rightTop}return a};c.getRotateFlip=function(a,e){var d=!1,k=!1,c=!1,j=0;switch(a){case b.RasterViewPerspective.topLeft90:j=90;break;case b.RasterViewPerspective.topLeft180:j=180;break;case b.RasterViewPerspective.topLeft270:j=270;break;
case b.RasterViewPerspective.bottomLeft:d=!0;break;case b.RasterViewPerspective.bottomLeft90:d=!0;j=90;break;case b.RasterViewPerspective.bottomLeft180:k=!0;break;case b.RasterViewPerspective.bottomLeft270:d=!0,j=270}switch(e){case b.RasterViewPerspective.topLeft90:j-=90;break;case b.RasterViewPerspective.topLeft180:j-=180;break;case b.RasterViewPerspective.topLeft270:j-=270;break;case b.RasterViewPerspective.bottomLeft:c=!0;break;case b.RasterViewPerspective.bottomLeft90:j-=90;c=!0;break;case b.RasterViewPerspective.bottomLeft180:c=
!0;j-=180;break;case b.RasterViewPerspective.bottomLeft270:c=!0,j-=270}c&&(d=!d,j=-j);d&&k&&(d=k=!1,j+=180);k&&(d=!0,j-=180);0>j?j+=360:360<=j&&(j-=360);k=new f.DocumentRotateFlip;k.isFlipped=d;k.rotationAngle=j;return k};c.getViewPerspectiveTransform=function(a,e,d){if(e.isEmpty)throw Error("Size cannot be empty");var a=c.getRotateFlip(a,b.RasterViewPerspective.topLeft),k=b.LeadMatrix.identity;if(!a.isFlipped&&0==a.rotationAngle)return k;var i=b.LeadPointD.create(e.width/2,e.height/2);d?(a.isFlipped&&
k.scaleAt(1,-1,i.x,i.y),0!=a.rotationAngle&&(90==a.rotationAngle?(k.rotate(a.rotationAngle),k.translate(e.height,0)):180==a.rotationAngle?k.rotateAt(a.rotationAngle,i.x,i.y):270==a.rotationAngle&&(k.rotate(a.rotationAngle),k.translate(0,e.width)))):(0!=a.rotationAngle&&(90==a.rotationAngle?(k.translate(-e.height,0),k.rotate(-a.rotationAngle)):180==a.rotationAngle?k.rotateAt(-a.rotationAngle,i.x,i.y):270==a.rotationAngle&&(k.translate(0,-e.width),k.rotate(-a.rotationAngle))),a.isFlipped&&k.scaleAt(1,
-1,i.x,i.y));return k};c._className="DocumentImages";c._controllerName="Images";c._elementAjaxMethod="GET";c._elementUrlMode=b.ImageLoaderUrlMode.imageUrl;c._getThumbnailsGridActionName="GetThumbnailsGrid";c._getThumbnailsGridMethodName="GetThumbnailsGrid";return c}();f.DocumentImages=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function c(){this._pageFitType=f.DocumentPageFitType.none;this._pageNumber=0;this._position=b.LeadPointD.empty;this._zoomPercent=0}c.fromJson=function(a){if(null==a)return null;var b=new f.DocumentLink;return!b.copyFromJson(a)?null:b};c.prototype.copyFromJson=function(a){return null==a||!f.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(c.prototype,"pageFitType",{get:function(){return this._pageFitType},set:function(a){this._pageFitType=
a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this._pageNumber},set:function(a){this._pageNumber=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"position",{get:function(){return this._position.clone()},set:function(a){this._position=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"zoomPercent",{get:function(){return this._zoomPercent},set:function(a){this._zoomPercent=a},enumerable:!0,configurable:!0});
c.prototype.clone=function(){var a=new c;a.pageFitType=this.pageFitType;a.pageNumber=this.pageNumber;a.position=this.position.clone();a.zoomPercent=this.zoomPercent;return a};return c}();f.DocumentLinkTarget=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g;(function(a){a[a.value=0]="value";a[a.targetPage=1]="targetPage"})(g=f.DocumentLinkType||(f.DocumentLinkType={}));var c=function(){function a(){this._bounds=b.LeadRectD.empty;this._value="";this._linkType=g.value;this._target=new f.DocumentLinkTarget}a.fromJson=function(b){if(null==b)return null;var d=new a;return!d.copyFromJson(b)?null:d};a.prototype.copyFromJson=function(a){return null==a||!f.Internal.PropertyBag.copyMatchingProperties(a,this,null)?!1:!0};Object.defineProperty(a.prototype,
"bounds",{get:function(){return this._bounds},set:function(a){this._bounds=a.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"linkType",{get:function(){return this._linkType},set:function(a){this._linkType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(a){this._value=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"target",{get:function(){return this._target},set:function(a){this._target.copyFromJson(a)},
enumerable:!0,configurable:!0});return a}();f.DocumentLink=c})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){(function(b){b[b.none=0]="none";b[b.allowPolylineText=1]="allowPolylineText";b[b.dropImages=2]="dropImages";b[b.dropShapes=4]="dropShapes";b[b.dropText=8]="dropText";b[b.forConversion=16]="forConversion";b[b.ignoreXmlParsingErrors=32]="ignoreXmlParsingErrors";b[b.forceRealText=64]="forceRealText";b[b.forceTextPath=1]="forceTextPath"})(f.DocumentGetSvgOptions||(f.DocumentGetSvgOptions={}));var g=function(){function c(){this._values=new f.Internal.DocumentPageValues;this._document=
null;this._links=[];this.customData={}}c.prototype.dispose=function(){this._document=null};c.prototype.setDocument=function(a,b){this._document=a;this._values.documentId=this._document?this._document.documentId:null;this._values.pageNumber=b};c.fromJson=function(a,b,d){if(null==a)return null;b=new c;return!b.copyFromJson(a,d)?null:b};c.prototype.copyFromJson=function(a,b){if(null==a||!a.hasOwnProperty("values")||!this._values.copyFromJson(a.values))return!1;this._values.pageNumber=b;return!0};c.prototype.setSize=
function(a){if(a.isEmpty)throw Error("size must not be empty");this._values.size=a.clone()};Object.defineProperty(c.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this.values.size.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"resolution",{get:function(){return this.values.resolution},set:function(a){this.values.resolution=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"pageNumber",{get:function(){return this.values.pageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"imageScale",{get:function(){return null==this._document?1:f.DocumentImages.getImageScale(this._document.sizeToPixels(this.values.size),this._document.images.maximumImagePixelSize)},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"originalPageNumber",{get:function(){return this.values.originalPageNumber},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAnnotationsModified",{get:function(){return this.values.isAnnotationsModified},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"hasEmbeddedAnnotations",{get:function(){return this.values.hasEmbeddedAnnotations},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isDeleted",{get:function(){return this.values.isDeleted},
set:function(a){this.document.canModify();this.values.isDeleted=a;this.document.cacheStatus=f.DocumentCacheStatus.notSynced},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isViewPerspectiveRotated",{get:function(){var a=this.viewPerspective;return a===b.RasterViewPerspective.topLeft90||a===b.RasterViewPerspective.topLeft270||a===b.RasterViewPerspective.bottomLeft90||a===b.RasterViewPerspective.bottomLeft270},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isViewPerspectiveFlipped",
{get:function(){var a=this.viewPerspective;return a===b.RasterViewPerspective.bottomLeft||a===b.RasterViewPerspective.bottomLeft90||a===b.RasterViewPerspective.bottomLeft180||a===b.RasterViewPerspective.bottomLeft270},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"viewPerspectiveSize",{get:function(){var a=this.size;this.isViewPerspectiveRotated&&(a=b.LeadSizeD.create(a.height,a.width));return a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"viewPerspective",
{get:function(){return this._values.viewPerspective},set:function(a){this.setViewPerspective(a)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isViewPerspectiveModified",{get:function(){return this._values.isViewPerspectiveModified},set:function(a){this._values.isViewPerspectiveModified=a},enumerable:!0,configurable:!0});c.prototype.rotate=function(a){var b=this.viewPerspective,b=f.DocumentImages.rotateViewPerspective(b,a);this.setViewPerspective(b)};c.prototype.reverse=function(){var a=
this.viewPerspective,a=f.DocumentImages.reverseViewPerspective(a);this.setViewPerspective(a)};c.prototype.flip=function(){var a=this.viewPerspective,a=f.DocumentImages.flipViewPerspective(a);this.setViewPerspective(a)};c.prototype.setViewPerspective=function(a){a!==this.viewPerspective&&(this.document.canModify(),this.deleteTextAndLinksFromCache(),this._values.viewPerspective=a,this.isViewPerspectiveModified=!0,this.document.cacheStatus=f.DocumentCacheStatus.notSynced)};c.prototype.getRotateFlip=
function(){return f.DocumentImages.getRotateFlip(this.viewPerspective,b.RasterViewPerspective.topLeft)};c.prototype.getViewPerspectiveTransform=function(a){return f.DocumentImages.getViewPerspectiveTransform(this.viewPerspective,this.size,a)};Object.defineProperty(c.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0});c.prototype.processPageText=function(a){this._document.text.autoParseLinks&&this.parseAndMergeValueLinks(a)};c.prototype.parseAndMergeValueLinks=function(a){null==
a||0==a.characters.length||this.mergeLinks(a.parseLinks(f.DocumentText.linkPatterns))};c.prototype.removeSmallerDuplicate=function(a,b){for(var d=a.length-1;0<=d;d--)b.bounds.containsRect(a[d].bounds)&&a.splice(d,1)};c.prototype.mergeLinks=function(a){if(!(null==a||0==a.length)){for(var b=0;b<a.length;b++)this.removeSmallerDuplicate(this._links,a[b]);this._links=this._links.concat(a)}};c.prototype.copyLinksFromJson=function(a){var b=[];if(null==a)return!0;for(var d=0;d<a.length;d++){var k=f.DocumentLink.fromJson(a[d]);
b.push(k)}this.mergeLinks(b);return!0};c.prototype.getLinks=function(){return this._links};c.prototype.getText=function(a){var b=this,d=$.Deferred();if(this._isLocal)return d.resolve(null).promise();var k=f.Service.Custom.createEndpointUrl(c._controllerName,"GetText"),a=f.Service.Custom.createPostAjaxSettings(k,{documentId:this._document.documentId,pageNumber:this.pageNumber,clip:a,textExtractionMode:this._document.text.textExtractionMode,userData:this._document.serviceUserData});f.Service.Custom.requestAjax(this,
c._className,"GetText",a).done(function(a){var k=f.DocumentPageText.fromJson(a.pageText);b.processPageText(k);d.resolve(k,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(d.reject);return d.promise()};c.prototype.getAnnotations=function(a){var b=$.Deferred();if(this.isLocal){var d=null;a&&(d=f.DocumentAnnotations.createEmptyContainer(this),d.pageNumber=this.document.pages.indexOf(this)+1);return b.resolve(d).promise()}if(this._isLocal)return b.resolve(null).promise();d=f.Service.Custom.createEndpointUrl(c._controllerName,
"GetAnnotations");a=f.Service.Custom.createPostAjaxSettings(d,{documentId:this._document.documentId,pageNumber:this.pageNumber,createEmpty:a,userData:this._document.serviceUserData});f.Service.Custom.requestAjax(this,c._className,"GetAnnotations",a).done(function(d){var a=d.annotations,c=null;null!=a&&(c=(new ltAnnotationsEngine.AnnCodecs).load(a,0));b.resolve(c,f.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(b.reject);return b.promise()};c.prototype.setAnnotations=function(a){var b=null;
null!=a&&(b=(new ltAnnotationsEngine.AnnCodecs).save(a,ltAnnotationsEngine.AnnFormat.annotations,null,this.pageNumber));var a=f.Service.Custom.createEndpointUrl(c._controllerName,"SetAnnotations"),b=f.Service.Custom.createPostAjaxSettings(a,{documentId:this._document.documentId,pageNumber:this.pageNumber,annotations:b,userData:this._document.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"SetAnnotations",b).done(function(a){d.resolve(f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(d.reject);
return d.promise()};c.prototype.applyAnnotationsViewPerspective=function(a,e){if(null!=a){var d=this.viewPerspective;if(d!=b.RasterViewPerspective.topLeft){var k=f.LEADDocument.getRotateFlip(d);a.viewPerspective=d;e?(k.isFlipped&&a.flip(!1),0!=k.rotationAngle&&a.rotate(k.rotationAngle)):(0!=k.rotationAngle&&a.rotate(-k.rotationAngle),k.isFlipped&&a.flip(!1))}}};c.prototype.applyTextViewPerspective=function(a,e){if(!(null==a||0===a.characters.length)&&this.viewPerspective!=b.RasterViewPerspective.topLeft)for(var d=
this.getViewPerspectiveTransform(e),k=0;k<a.characters.length;k++){var c=a.characters[k],j=c.bounds,j=f.Internal.PrimitivesHelper.getCornerPoints(j);d.transformPoints(j);j=f.Internal.PrimitivesHelper.getBoundingRect(j);c.bounds=j;a.characters[k]=c}};c.prototype.getThumbnailImageUrlParams=function(){var a=this._document.images.thumbnailPixelSize;return{documentId:this._document.documentId,pageNumber:this.pageNumber,width:a.width,height:a.height,userData:this._document.serviceUserData}};c.prototype.getThumbnailImage=
function(){return this.getThumbnailImageUrl()};c.prototype.getThumbnailImageUrl=function(){return this._isLocal?null:f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getThumbnailImageActionName,this.getThumbnailImageUrlParams(),!0)};c.prototype.getThumbnailImageElement=function(a){var b=$.Deferred();if(this._isLocal)return b.resolve(null).promise();var d=f.Service.Custom.createEndpointUrl(c._controllerName,c._getThumbnailImageActionName),k=this.getThumbnailImageUrlParams();return f.Internal.ImageRequestHelper.doGenericElementLoad(this,
b,a,d,k,c._className,c._getThumbnailImageMethodName)};c.prototype.getImageUrlParams=function(a,b){var d={documentId:this._document.documentId,pageNumber:this.pageNumber,userData:this._document.serviceUserData};-1!==a&&-1!==b&&(d.width=a,d.height=b);return d};c.prototype.getImage=function(){return this.getImageUrl()};c.prototype.getImageUrl=function(){return this._isLocal?null:f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getImageActionName,this.getImageUrlParams(-1,-1),!0)};c.prototype.getImageResized=
function(a,b){return this.getImageResizedUrl(a,b)};c.prototype.getImageResizedUrl=function(a,b){return this._isLocal?null:f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getImageActionName,this.getImageUrlParams(a,b),!0)};c.prototype.getImageElement=function(a){return this.internalGetImageElement(c._getImageMethodName,-1,-1,a)};c.prototype.getImageResizedElement=function(a,b,d){return this.internalGetImageElement(c._getImageResizedMethodName,a,b,d)};c.prototype.internalGetImageElement=
function(a,b,d,k){var i=$.Deferred();if(this._isLocal)return i.resolve(null).promise();var j=f.Service.Custom.createEndpointUrl(c._controllerName,c._getImageActionName),b=this.getImageUrlParams(b,d);return f.Internal.ImageRequestHelper.doGenericElementLoad(this,i,k,j,b,c._className,a)};c.prototype.deleteTextAndLinksFromCache=function(){this._links=[]};Object.defineProperty(c.prototype,"isSvgSupported",{get:function(){return this._document.images.isSvgSupported},enumerable:!0,configurable:!0});c.prototype.getSvgBackImageUrlParams=
function(a){return{documentId:this._document.documentId,pageNumber:this.pageNumber,backColor:a,userData:this._document.serviceUserData}};c.prototype.getSvgBackImage=function(a){return this.getSvgBackImageUrl(a)};c.prototype.getSvgBackImageUrl=function(a){return this._isLocal?null:f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getSvgBackImageActionName,this.getSvgBackImageUrlParams(a),!0)};c.prototype.getSvgBackImageElement=function(a,b){var d=$.Deferred();if(this._isLocal)return d.resolve(null).promise();
var k=f.Service.Custom.createEndpointUrl(c._controllerName,c._getSvgBackImageActionName),i=this.getSvgBackImageUrlParams(a);return f.Internal.ImageRequestHelper.doGenericElementLoad(this,d,b,k,i,c._className,c._getSvgBackImageMethodName)};c.prototype.getSvgUrlParams=function(a){return{documentId:this._document.documentId,pageNumber:this.pageNumber,options:a,unembedImages:this._document.images.unembedSvgImages,userData:this._document.serviceUserData}};c.prototype.getSvg=function(a){return this.getSvgUrl(a)};
c.prototype.getSvgUrl=function(a){return this._isLocal?null:f.Service.Custom.createEndpointGetUrl(c._controllerName,c._getSvgActionName,this.getSvgUrlParams(a),!0)};c.prototype.getSvgElement=function(a,b){var d=$.Deferred();if(this._isLocal)return d.resolve(null).promise();var k=f.Service.Custom.createEndpointUrl(c._controllerName,c._getSvgActionName),i=this.getSvgUrlParams(a);return f.Internal.ImageRequestHelper.doGenericElementLoad(this,d,b,k,i,c._className,c._getSvgMethodName)};c.prototype.readBarcodes=
function(a,e,d){var k=f.Service.Custom.createEndpointUrl(c._controllerName,"ReadBarcodes"),a=f.Service.Custom.createPostAjaxSettings(k,{documentId:this._document.documentId,pageNumber:this.pageNumber,bounds:a,maximumBarcodes:e,symbologies:d,userData:this._document.serviceUserData}),i=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"ReadBarcodes",a).done(function(d){var a=d.barcodes.map(function(d){return b.Barcode.BarcodeData.fromJson(d)});i.resolve(a,f.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(i.reject);
return i.promise()};c._className="DocumentPage";c._controllerName="Page";c._getThumbnailImageActionName="GetThumbnail";c._getThumbnailImageMethodName="GetThumbnailImage";c._getImageActionName="GetImage";c._getImageMethodName="GetImage";c._getImageResizedActionName="GetImage";c._getImageResizedMethodName="GetImageResized";c._getSvgBackImageActionName="GetSvgBackImage";c._getSvgBackImageMethodName="GetSvgBackImage";c._getSvgActionName="GetSvg";c._getSvgMethodName="GetSvg";return c}();f.DocumentPage=
g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){(function(b){b[b.normal=0]="normal";b[b.bold=1]="bold";b[b.italic=2]="italic";b[b.underline=4]="underline"})(f.DocumentFontStyles||(f.DocumentFontStyles={}));(function(b){b[b.none=0]="none";b[b.fit=1]="fit";b[b.fitAlways=2]="fitAlways";b[b.fitWidth=3]="fitWidth";b[b.fitHeight=4]="fitHeight"})(f.DocumentPageFitType||(f.DocumentPageFitType={}));var g=function(){function c(){this._children=[]}c.fromJson=function(b){if(null==b)return null;var e=new c;return!e.copyFromJson(b)?
null:e};c.prototype.copyFromJson=function(a){if(null==a||!a.hasOwnProperty("fontStyles")||!a.hasOwnProperty("children")||!a.hasOwnProperty("target")||!a.hasOwnProperty("title"))return!1;this.fontStyles=a.fontStyles;this.title=a.title;var e=new f.DocumentLinkTarget,d=a.target;if(!d.hasOwnProperty("pageFitType")||!d.hasOwnProperty("pageNumber")||!d.hasOwnProperty("position")||!d.hasOwnProperty("zoomPercent"))return!1;e.pageFitType=d.pageFitType;e.pageNumber=d.pageNumber;e.position=b.LeadPointD.fromJSON(d.position);
e.zoomPercent=d.zoomPercent;this.target=e;for(e=0;e<a.children.length;e++)this.children.push(c.fromJson(a.children[e]));return!0};c.prototype.clone=function(b){var e=new c;e.fontStyles=this.fontStyles;e.target=this.target.clone();e.title=this.title;if(b)for(b=0;b<this.children.length;b++)e.children.push(this.children[b].clone(!0));return e};Object.defineProperty(c.prototype,"fontStyles",{get:function(){return this._fontStyles},set:function(b){this._fontStyles=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"children",{get:function(){return this._children},set:function(b){this._children=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"target",{get:function(){return this._target},set:function(b){this._target=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"title",{get:function(){return this._title},set:function(b){this._title=b},enumerable:!0,configurable:!0});return c}();f.DocumentBookmark=g})(b.Document||(b.Document={}))})(lt||(lt={}));
if(lt.LTHelper.browser==lt.LTBrowser.internetExplorer&&9>=lt.LTHelper.version)try{$.support.cors=!0}catch(e$$8){lt.LTHelper.logWarning("IE9 does not support AJAX without a special jQuery flag. Please ensure jQuery is properly added to the page.")}
(function(b){(function(f){var g=function(){return function(){this.mimeType=this.documentId=null}}();f.CreateDocumentOptions=g;g=function(){return function(){this.originalPageNumber=this.pageNumber=0;this.size=b.LeadSizeD.empty;this.resolution=0;this.viewPerspective=b.RasterViewPerspective.topLeft;this.isDeleted=!1}}();f.DocumentPageDescriptor=g;g=function(){return function(){this.autoSaveToCache=this.autoDeleteFromCache=!0;this.isReadOnly=this.autoDisposeDocuments=!1;this.defaultPageSize=b.LeadSizeD.empty;
this.defaultResolution=0;this.defaultBitsPerPixel=24;this.maximumImagePixelSize=0;this.thumbnailPixelSize=b.LeadSizeD.create(128,128);this.isResolutionsSupported=this.isSvgViewingPreferred=this.isSvgSupported=this.isStructureSupported=this.isStructureParsed=this.unembedSvgImages=!1;this.textExtractionMode=f.DocumentTextExtractionMode.auto;this.parsePageLinks=this.parseBookmarks=this.autoParseLinks=!0}}();f.DocumentDescriptor=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){var g=function(){return function(){this.documentId=null;this.resolution=0;this.annotationsUri=this.password=this.name=null;this.loadEmbeddedAnnotations=!1;this.lastPageNumber=this.firstPageNumber=this.maximumImagePixelSize=0}}();b.LoadDocumentOptions=g;g=function(){return function(){this.pageCount=this.mimeType=this.name=this.documentId=null}}();b.UploadDocumentOptions=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function a(){this._bounds=b.LeadRectD.empty;this._spaceWidth=0;this._isRightToLeft=this._isEndOfParagraph=this._isLineBreak=this._isEndOfLine=this._isEndOfWord=!1}Object.defineProperty(a.prototype,"code",{get:function(){return this._code},set:function(b){this._code=b},enumerable:!0,configurable:!0});a.prototype.codeAsString=function(){return String.fromCharCode(this.code)};Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds.clone()},
set:function(b){this._bounds=b.clone()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"spaceWidth",{get:function(){return this._spaceWidth},set:function(b){this._spaceWidth=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfWord",{get:function(){return this._isEndOfWord},set:function(b){this._isEndOfWord=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfLine",{get:function(){return this._isEndOfLine},set:function(b){this._isEndOfLine=
b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLineBreak",{get:function(){return this._isLineBreak},set:function(b){this._isLineBreak=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEndOfParagraph",{get:function(){return this._isEndOfParagraph},set:function(b){this._isEndOfParagraph=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isRightToLeft",{get:function(){return this._isRightToLeft},set:function(b){this._isRightToLeft=b},
enumerable:!0,configurable:!0});return a}();f.DocumentCharacter=g;var c=function(){function a(){this._value=null;this._bounds=b.LeadRectD.empty}Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(b){this._value=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"bounds",{get:function(){return this._bounds},set:function(b){this._bounds=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"firstCharacterIndex",{get:function(){return this._firstCharacterIndex},
set:function(b){this._firstCharacterIndex=b},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCharacterIndex",{get:function(){return this._lastCharacterIndex},set:function(b){this._lastCharacterIndex=b},enumerable:!0,configurable:!0});return a}();f.DocumentWord=c;var a=function(){function a(b){this._textMap=this._text=this._words=this._characters=null;this._characters=b}a.fromJson=function(d){if(null==d||!d.hasOwnProperty("characters"))return null;var k=new a(null);k._characters=
[];for(var c=0;c<d.characters.length;c++){var j=new g;j.isEndOfWord=d.characters[c].isEndOfWord;j.isEndOfLine=d.characters[c].isEndOfLine;j.isLineBreak=d.characters[c].isLineBreak;j.isRightToLeft=d.characters[c].isRightToLeft;j.code=d.characters[c].code;j.bounds=b.LeadRectD.fromJSON(d.characters[c].bounds);k._characters.push(j)}return k};Object.defineProperty(a.prototype,"characters",{get:function(){return this._characters},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"words",
{get:function(){return this._words},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textMap",{get:function(){return this._textMap},enumerable:!0,configurable:!0});a.prototype.clearBuildData=function(){this._textMap=this._text=this._words=null};a.prototype.buildWords=function(){for(var d=0,k=this._characters.length,i=[],j=!1,f=-1;d<k;){for(var h=b.LeadRectD.empty,m=d,n=!1,
o=!0,l=new g;o&&d<k;)l=this._characters[d],o=l.bounds.clone(),h=h.isEmpty?o.clone():b.LeadRectD.unionRects(h,o),o=d<k&&!l.isEndOfWord&&!l.isEndOfLine,d++,l.isRightToLeft&&(n=!0);for(var o="",q=m;q<d;q++)o+=this._characters[q].code;q=new c;q.value=o;q.bounds=h.clone();q.firstCharacterIndex=m;q.lastCharacterIndex=d-1;n&&(q.value=a.reverse(q.value));j&&n?(f=-1==f?i.length-1:f,i.splice(f,0,q)):(-1!=f&&(this.reverseCharacterPositions(i[f].lastCharacterIndex,i[i.length-1].lastCharacterIndex),f=-1),i.push(q));
j=n&&!l.isEndOfLine}this._words=i};a.reverse=function(b){return b.split("").reverse().join("")};a.prototype.reverseCharacterPositions=function(b,a){var e=this._characters[b],c=this._characters[b];c.isEndOfWord=this._characters[a].isEndOfWord;c.isEndOfLine=this._characters[a].isEndOfLine;c.isLineBreak=this._characters[a].isLineBreak;this._characters[b]=c;c=this._characters[a];c.isEndOfWord=e.isEndOfWord;c.isEndOfLine=e.isEndOfLine;c.isLineBreak=e.isLineBreak;this._characters[a]=c};a.prototype.buildText=
function(){this.doBuildText(!1)};a.prototype.buildTextWithMap=function(){this.doBuildText(!0)};a.prototype.doBuildText=function(b){var a=!1;null===this._words&&null!==this._characters&&(this.buildWords(),a=!0);if(null===this._words||0===this._words.length)this._textMap=null,this._text="",a&&(this._words=null);else{this._textMap=b?[]:null;for(var e="",c=this._words.length,f=0;f<c;){var h=this._words[f];if(null!=h.value&&""!==h.value&&(e+=h.value,b))for(var m=h.firstCharacterIndex;m<=h.lastCharacterIndex;m++)this._textMap.push(m);
m=!1;-1!==h.lastCharacterIndex&&(m=this._characters[h.lastCharacterIndex].isEndOfLine);h=f===c-1;m?(h||(e+="\n"),b&&this._textMap.push(-2)):h||(e+=" ",b&&this._textMap.push(-1));f++}a&&(this._words=null);this._text=e}};a.prototype.removeSmallerDuplicate=function(b,a){for(var e=b.length-1;0<=e;e--)a.bounds.containsRect(b[e].bounds)&&b.splice(e,1)};a.prototype.parseLinks=function(b){var a=[];if(null==b||0===b.length)return a;null==this._textMap&&this.buildTextWithMap();var e=this.text;if(!e||0===e.length)return a;
var c=this.textMap;if(!c||0===c.length)return a;for(var p=0;p<b.length;p++)for(var h=null,m=b[p];null!==(h=m.exec(e));){var n=h.index,o=h.index+h[0].length-1,l=this.characters,g=c.length;if(!(0>n||n>=g||0>o||o>=g)){n=c[n];for(g=c[o];-1===n&&n<g;)n++;if(!(n>g)){o=l[n].bounds;for(n+=1;n<=g;n++)o.union(l[g].bounds);l=new f.DocumentLink;l.linkType=f.DocumentLinkType.value;l.bounds=o;l.value=h[0];this.removeSmallerDuplicate(a,l);a.push(l)}}}return a};a.prototype.clipText=function(b){if(b.isEmpty)return a.fromJson(this);
var c=this._characters;if(null==c)return null;var i=[],f=c.length,p=new g;p.isEndOfWord=!1;p.isEndOfLine=!1;for(var h=-1,m=0;m<f;m++){var n=c[m],o=!1,l=n.code;9==l||160==l||5760==l||6158==l||8192<=l&&8202>=l||8232==l||8233==l||8239==l||8287==l||12288==l?o=!0:b.isEmpty||(o=!b.intersectsWith(n.bounds));if(o){if(n.isEndOfWord&&(p.isEndOfWord=!0),n.isEndOfLine)p.isEndOfLine=!0}else{if(p.isEndOfWord||p.isEndOfLine)-1!=h&&(o=i[h],p.isEndOfWord&&(o.isEndOfWord=!0),p.isEndOfLine&&(o.isEndOfLine=!0),i[h]=
o),p.isEndOfWord=!1,p.isEndOfLine=!1;i.push(n);h++}}return new a(i)};return a}();f.DocumentPageText=a})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function b(){this._length=this._mimeType=this._url=this._name=null}b.fromJson=function(a){if(null==a)return null;var c=new b;return!c.copyFromJson(a)?null:c};b.prototype.copyFromJson=function(b){return null==b?!1:f.Internal.PropertyBag.copyMatchingProperties(b,this,null)};Object.defineProperty(b.prototype,"name",{get:function(){return this._name},set:function(b){this._name=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"url",{get:function(){return this._url},
set:function(b){this._url=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mimeType",{get:function(){return this._mimeType},set:function(b){this._mimeType=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"length",{get:function(){return this._length},set:function(b){this._length=b},enumerable:!0,configurable:!0});return b}();f.ConvertItem=g;var c=function(){function b(){this._documentId=null;this._archive=new g;this._document=new g;this._annotations=new g}b.fromJson=
function(a){if(null==a)return null;var c=new b;return!c.copyFromJson(a)?null:c};b.prototype.copyFromJson=function(b){return null==b?!1:f.Internal.PropertyBag.copyMatchingProperties(b,this,null)};Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"archive",{get:function(){return this._archive},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});return b}();f.DocumentConvertResult=c;var a=function(){function a(){this._isDisposed=this._cacheUriWasOriginallyNull=!1;this._autoDisposeDocuments=!0;this._structure=this._barcodes=this._images=this._annotations=this._documents=this._pages=null;this._values=new f.Internal.DocumentValues;this._text=new f.DocumentText(this);this._cacheStatus=f.DocumentCacheStatus.synced;
this._isLocal=!1;this._serviceUserData=null;this._pages=new f.DocumentPages(this);this._documents=new f.DocumentDocuments(this);this._annotations=new f.DocumentAnnotations(this);this._images=new f.DocumentImages(this);this._barcodes=new f.DocumentBarcodes(this);this._metadata={};this._structure=null}a.fromJson=function(b,c){var i=$.Deferred();if(null==b)return i.resolve(null).promise();var f=new a;f.copyFromJson(b,c).done(function(a){a?i.resolve(f):i.resolve(null)});return i.promise()};a.prototype.copyFromJson=
function(a,b){var c=this,e=$.Deferred();if(null==a||!a.hasOwnProperty("values")||!a.hasOwnProperty("pages"))return e.resolve(!1).promise();var p=this.cacheUri;if(!this._values.copyFromJson(a.values))return e.resolve(!1).promise();this._values.cacheUri?p&&(this.cacheUri=p):(this._cacheUriWasOriginallyNull=!0,this._rebuildCacheUri());if(b){for(var h={},p=this.documentId,m=0;m<a.pages.length;m++){var n=a.pages[m].values.documentId;p.toLowerCase()!==n.toLowerCase()&&void 0===h[n]&&(h[n]=null)}var o=Object.keys(h),
l=0,g=o.length,t;if(l<g){var r=function(b){h[o[l]]=b;l++;if(l<g)(t=f.DocumentFactory.tryLoadDocumentFromCache(c,o[l]))?r(t):f.DocumentFactory.loadFromCache(o[l]).done(s).fail(u);else c.finishCopyFromJson(a,e,h)},s=function(a){r(a)},u=function(){r(null)};(t=f.DocumentFactory.tryLoadDocumentFromCache(this,o[l]))?r(t):f.DocumentFactory.loadFromCache(o[l]).done(s).fail(u)}else this.finishCopyFromJson(a,e,h);return e.promise()}return e.resolve(!0).promise()};a.prototype.finishCopyFromJson=function(a,b,
c){var e=this,p=this.documentId;this._pages.beginAdd();for(var h=0;h<a.pages.length;h++){var m=null,n=a.pages[h].values.documentId;if(n)if(p.toLowerCase()===n.toLowerCase())m=f.DocumentPage.fromJson(a.pages[h],this,h+1);else if(n=c[n]){var o=a.pages[h].values.pageNumber;0<o&&o<=n.pages.count&&(m=n.pages.item(o-1))}m&&this._pages.add(m)}this._pages.endAdd();this._values.isStructureSupported?(this._structure=new f.DocumentStructure(this),this._values.isStructureParsed&&a.hasOwnProperty("structure")&&
(c=a.structure,this._structure.copyFromJson(c.bookmarks,c.pageLinks))):this._structure=null;if(a.hasOwnProperty("metadata")){var l=a.metadata;this._metadata={};Object.keys(l).forEach(function(a){e._metadata[a]=l[a]})}a.hasOwnProperty("text")&&!this._text.copyFromJson(a.text)?b.resolve(!1):b.resolve(!0)};a.rebuildCacheUriValues=function(){if(f.DocumentFactory.documentRefs)for(var a=Object.keys(f.DocumentFactory.documentRefs),b=0;b<a.length;b++){var c=f.DocumentFactory.documentRefs[a[0]];c&&c.document&&
c.document._rebuildCacheUri()}};a.prototype._rebuildCacheUri=function(){this._cacheUriWasOriginallyNull&&(this.cacheUri=f.Service.Custom.createEndpointGetUrl(a.cacheControllerName,a.cacheGetDocumentDataMethodName,{documentId:this.documentId,userData:f.DocumentFactory.serviceUserData},!0))};a.prototype.createDocumentDescriptor=function(){var a=new f.DocumentDescriptor;a.documentId=this._values.documentId;a.name=this._values.name;a.autoDisposeDocuments=this.autoDisposeDocuments;a.isReadOnly=this._values.isReadOnly;
a.mimeType=this._values.mimeType;a.defaultPageSize=this._values.defaultPageSize;a.defaultResolution=this._values.defaultResolution;a.defaultBitsPerPixel=this._values.defaultBitsPerPixel;a.maximumImagePixelSize=this._values.maximumImagePixelSize;a.thumbnailPixelSize=this._values.thumbnailPixelSize;a.unembedSvgImages=this._values.unembedSvgImages;a.documentType=this._values.documentType;a.isStructureParsed=this._values.isStructureParsed;a.isStructureSupported=this._values.isStructureSupported;a.isSvgSupported=
this._values.isSvgSupported;a.isSvgViewingPreferred=this._values.isSvgViewingPreferred;a.isResolutionsSupported=this._values.isResolutionsSupported;a.textExtractionMode=this._values.textExtractionMode;a.autoParseLinks=this._values.autoParseLinks;a.parseBookmarks=this._values.parseBookmarks;a.parsePageLinks=this._values.parsePageLinks;this._metadata&&(a.metadata=JSON.stringify(this._metadata));for(var b=this._pages.count,c=[],e=1;e<=b;e++){var p=this._pages.item(e-1),h=new f.DocumentPageDescriptor;
h.documentId=p.values.documentId;h.pageNumber=p.values.pageNumber;h.originalPageNumber=p.values.originalPageNumber;h.size=p.values.size;h.resolution=p.values.resolution;h.viewPerspective=p.values.viewPerspective;h.isDeleted=p.values.isDeleted;c.push(h)}a.pages=c;return a};a.create=function(d){if(!d)throw Error("Options cannot be null");var c=d.documentId?d.documentId:f.Internal.Guid.newGuid(),i=new a;i._values.isSvgSupported=!0;i._values.isSvgViewingPreferred=!0;i._values.isResolutionsSupported=!0;
i._values.documentId=c;i._values.mimeType=d.mimeType;i._values.documentType="Virtual";i._values.defaultPageSize=b.LeadSizeD.create(8.5*a.unitsPerInch,11*a.unitsPerInch);i._values.isReadOnly=!1;i.cacheStatus=f.DocumentCacheStatus.notSynced;i.isLocal=!0;d=f.Internal.Formatting.formatDate(new Date);c=i.metadata;c.Created=d;c.Accessed=d;c.Modified=d;f.DocumentFactory.documentCreated(i);return i};Object.defineProperty(a.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0});
a.prototype.dispose=function(){this._dispose(!1)};a.prototype._dispose=function(a){var b=this;this._isDisposed||(this._isDisposed=!0,this._documents&&(this.forEachDocument(function(a){a&&0===f.DocumentFactory.decrementDocumentRef(a)&&b._autoDisposeDocuments&&a.dispose()}),this._documents.dispose(),this._documents=null),this._pages&&(this._pages.dispose(),this._pages=null),this._annotations&&(this._annotations.dispose(),this._annotations=null),this._images&&(this._images.dispose(),this._images=null),
this._barcodes&&(this._barcodes.dispose(),this._barcodes=null),this._structure&&(this._structure.dispose(),this._structure=null),a||f.DocumentFactory.documentDisposed(this))};Object.defineProperty(a.prototype,"autoDisposeDocuments",{get:function(){return this._autoDisposeDocuments},set:function(a){this._autoDisposeDocuments=a;this.forEachDocument(function(b){b&&(b.autoDisposeDocuments=a)})},enumerable:!0,configurable:!0});a.prototype.canModify=function(){if(this.isReadOnly)throw Error("Document is read-only");
};a.prototype.createPage=function(a,b){if(a.isEmpty)throw Error("Size must not be empty");if(0>b)throw Error("Resolution must be a value greater than or equal to 0");var c=new f.DocumentPage;c.setSize(a);c.resolution=b;c.isLocal=!0;return c};Object.defineProperty(a.prototype,"documentId",{get:function(){return this.values.documentId},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"name",{get:function(){return this.values.name},set:function(a){this.values.name=a},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"uri",{get:function(){return this.values.uri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheUri",{get:function(){return this.values.cacheUri},set:function(a){this.values.cacheUri=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"lastCacheSyncTime",{get:function(){return this._values.lastCacheSyncTime},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"cacheStatus",{get:function(){return this._cacheStatus},
set:function(a){this._cacheStatus=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isAnyCacheStatusNotSynced",{get:function(){if(this.cacheStatus!==f.DocumentCacheStatus.synced)return!0;for(var a=0;a<this._documents.count;a++){var b=this._documents.item(a);if(b&&b.isAnyCacheStatusNotSynced)return!0}return!1},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDownloaded",{get:function(){return this.values.isDownloaded},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"isReadOnly",{get:function(){return this.values.isReadOnly},set:function(a){this.values.isReadOnly=a;this.forEachDocument(function(b){b.isReadOnly=a})},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLocal",{get:function(){return this._isLocal},set:function(a){this._isLocal=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"mimeType",{get:function(){return this.values.mimeType},set:function(a){this.values.mimeType=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"pages",{get:function(){return this._pages},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isEncrypted",{get:function(){return this.values.isEncrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isDecrypted",{get:function(){return this.values.isDecrypted},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isStructureSupported",{get:function(){return this.values.isStructureSupported},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"documents",{get:function(){return this._documents},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotations",{get:function(){return this._annotations},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"structure",{get:function(){return this._structure},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"images",{get:function(){return this._images},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"barcodes",{get:function(){return this._barcodes},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultResolution",{get:function(){return this.values.defaultResolution},enumerable:!0,configurable:!0});Object.defineProperty(a,"unitsPerInch",{get:function(){return 720},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"values",{get:function(){return this._values},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"annotationsUri",{get:function(){return this.values.annotationsUri},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultBitsPerPixel",{get:function(){return this.values.defaultBitsPerPixel},set:function(a){this.values.defaultBitsPerPixel=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"defaultPageSize",{get:function(){return this.values.defaultPageSize},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"documentType",{get:function(){return this.values.documentType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"password",{get:function(){return this.values.password},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"serviceUserData",{get:function(){return this._serviceUserData},set:function(a){this._serviceUserData=a},enumerable:!0,configurable:!0});a.prototype.validate=function(){return this.mimeType?
{valid:!0,error:""}:{valid:!1,error:"Unrecognized image file format."}};Object.defineProperty(a.prototype,"hasDocuments",{get:function(){return 0<this._documents.count},enumerable:!0,configurable:!0});a.prototype.forEachDocument=function(a){for(var b=0;b<this._documents.count;b++)a(this._documents.item(b))};a.prototype.documentsAddedRemoved=function(){if(0==this._documents.count)this._values.isSvgSupported=!0,this._values.isSvgViewingPreferred=!0,this._values.isResolutionsSupported=!0,this._values.isStructureSupported=
!1;else{var a=!1,b=!1,c=!1,e=!1;this.forEachDocument(function(f){!a&&f._values.isSvgSupported&&(a=!0);!b&&f._values.isSvgViewingPreferred&&(b=!0);!c&&f._values.isResolutionsSupported&&(c=!0);!e&&f.isStructureSupported&&(e=!0)});this._values.isSvgSupported=a;this._values.isSvgViewingPreferred=b;this._values.isResolutionsSupported=c;this._values.isStructureSupported=e}this.isStructureSupported&&!this.structure&&(this._structure=new f.DocumentStructure(this))};a.prototype.decrypt=function(b){var c=this,
i=f.Service.Custom.createEndpointUrl(a._controllerName,"Decrypt"),b=f.Service.Custom.createPostAjaxSettings(i,{documentId:this.documentId,password:b,userData:this.serviceUserData}),j=$.Deferred();f.Service.Custom.requestAjax(this,a._className,"Decrypt",b).done(function(a){c.copyFromJson(a.document,!0).done(function(b){b?j.resolve(c,f.Internal.PropertyBag.normalizeFalsy(a.userData)):j.reject(null,null,"Invalid document object")})}).fail(j.reject);return j.promise()};a.prototype.convert=function(b){var k=
f.Service.Custom.createEndpointUrl(a._controllerName,"Convert"),b=f.Service.Custom.createPostAjaxSettings(k,{documentId:this.documentId,jobData:b,userData:this.serviceUserData}),i=$.Deferred();f.Service.Custom.requestAjax(this,a._className,"Convert",b).done(function(a){var b=c.fromJson(a);i.resolve(b,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(i.reject);return i.promise()};a.documentToPixels=function(d,c){b.LeadDoubleTools.isZero(d)&&(d=96);return Math.floor(c/a.unitsPerInch*d+0.5)};
a.pixelsToDocument=function(d,c){b.LeadDoubleTools.isZero(d)&&(d=96);return c*a.unitsPerInch/d};a.prototype.pointToPixels=function(d){if(d.isEmpty)return b.LeadPointD.empty;var c=this.defaultResolution;return b.LeadPointD.create(a.documentToPixels(c,d.x),a.documentToPixels(c,d.y))};a.prototype.pointToDocument=function(d){var c=this.defaultResolution;return b.LeadPointD.create(a.pixelsToDocument(c,d.x),a.pixelsToDocument(c,d.y))};a.prototype.sizeToPixels=function(d){if(d.isEmpty)return b.LeadSizeD.empty;
var c=this.defaultResolution;return b.LeadSizeD.create(a.documentToPixels(c,d.width),a.documentToPixels(c,d.height))};a.prototype.sizeToDocument=function(d){var c=this.defaultResolution;return b.LeadSizeD.create(a.pixelsToDocument(c,d.width),a.pixelsToDocument(c,d.height))};a.prototype.rectToPixels=function(d){if(d.isEmpty)return b.LeadRectD.empty;var c=this.defaultResolution;return b.LeadRectD.fromLTRB(a.documentToPixels(c,d.left),a.documentToPixels(c,d.top),a.documentToPixels(c,d.right),a.documentToPixels(c,
d.bottom))};a.prototype.rectToDocument=function(d){var c=this.defaultResolution;return b.LeadRectD.fromLTRB(a.pixelsToDocument(c,d.left),a.pixelsToDocument(c,d.top),a.pixelsToDocument(c,d.right),a.pixelsToDocument(c,d.bottom))};a.getRotateFlip=function(a){return f.DocumentImages.getRotateFlip(a,b.RasterViewPerspective.topLeft)};a.getViewPerspectiveTransform=function(a,b,c){return f.DocumentImages.getViewPerspectiveTransform(a,b,c)};a.cacheControllerName="Cache";a.cacheGetDocumentDataMethodName="GetDocumentData";
a._className="Document";a._controllerName="Document";return a}();f.LEADDocument=a})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g;(function(a){a[a.synced=0]="synced";a[a.notSynced=1]="notSynced"})(g=f.DocumentCacheStatus||(f.DocumentCacheStatus={}));var c=function(){function a(){this._isFlipped=!1;this._rotationAngle=0}Object.defineProperty(a.prototype,"isFlipped",{get:function(){return this._isFlipped},set:function(a){this._isFlipped=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"rotationAngle",{get:function(){return this._rotationAngle},set:function(a){this._rotationAngle=
a},enumerable:!0,configurable:!0});return a}();f.DocumentRotateFlip=c;var a;(function(a){a[a.created=0]="created";a[a.uploading=1]="uploading";a[a.finished=2]="finished";a[a.error=3]="error";a[a.aborted=4]="aborted"})(a=f.DocumentUploadProgressState||(f.DocumentUploadProgressState={}));var e=function(){function a(b,d,c){this._state=b;this._progress=d;this._userData=c}Object.defineProperty(a.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"progress",{get:function(){return this._progress},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"userData",{get:function(){return this._userData},enumerable:!0,configurable:!0});return a}();f.DocumentUploadProgress=e;var d;(function(a){a[a.unset=0]="unset";a[a.error=1]="error";a[a.ready=2]="ready"})(d=f.OcrEngineStatus||(f.OcrEngineStatus={}));var k=function(){function a(b,d,c,e,h,k,f){this._message=b;this._time=d;this._isLicenseChecked=c;this._isLicenseExpired=e;this._isCacheAccessible=
h;this._kernelType=k;this._ocrEngineStatus=f}Object.defineProperty(a.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseChecked",{get:function(){return this._isLicenseChecked},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isLicenseExpired",{get:function(){return this._isLicenseExpired},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"isCacheAccessible",{get:function(){return this._isCacheAccessible},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"kernelType",{get:function(){return this._kernelType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"ocrEngineStatus",{get:function(){return this._ocrEngineStatus},enumerable:!0,configurable:!0});return a}();f.ServiceStatus=k;var i=function(a){function b(d,c){var e=a.call(this)||this;e._sourceDocument=
d;e._documentId=c;return e}__extends(b,a);Object.defineProperty(b.prototype,"sourceDocument",{get:function(){return this._sourceDocument},set:function(a){this._sourceDocument=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"documentId",{get:function(){return this._documentId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});return b}(b.LeadEventArgs);
f.ResolveDocumentEventArgs=i;c=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(b.LeadEvent);f.ResolveDocumentEventType=c;var j=function(){function a(){this._document=null;this._refCount=-1}Object.defineProperty(a.prototype,"document",{get:function(){return this._document},set:function(a){this._document=a},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"refCount",{get:function(){return this._refCount},set:function(a){this._refCount=a},enumerable:!0,configurable:!0});return a}();f.DocumentRefInfo=j;c=function(){function c(){}c.create=function(a){return f.LEADDocument.create(a)};c.verifyService=function(){var a=f.Service.Custom.createEndpointUrl("Test","Ping"),a=f.Service.Custom.createPostAjaxSettings(a,{userData:c.serviceUserData}),b=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"VerifyService",a).done(function(a){var c=
new k(a.message,new Date(a.time),a.isLicenseChecked,a.isLicenseExpired,a.isCacheAccessible,a.kernelType,-1<=a.ocrEngineStatus?a.ocrEngineStatus:d.unset);b.resolve(c,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(b.reject);return b.promise()};Object.defineProperty(c,"serviceHost",{get:function(){return c._serviceHost},set:function(a){c._serviceHost=a;c.build()},enumerable:!0,configurable:!0});Object.defineProperty(c,"servicePath",{get:function(){return c._servicePath},set:function(a){c._servicePath=
a;c.build()},enumerable:!0,configurable:!0});Object.defineProperty(c,"serviceApiPath",{get:function(){return c._serviceApiPath},set:function(a){c._serviceApiPath=a;c.build()},enumerable:!0,configurable:!0});Object.defineProperty(c,"serviceUri",{get:function(){null==c._serviceUri&&c.build();return c._serviceUri},enumerable:!0,configurable:!0});Object.defineProperty(c,"serviceUserData",{get:function(){return c._serviceUserData},set:function(a){c._serviceUserData=a},enumerable:!0,configurable:!0});c.build=
function(){var a=window.location,b=c._serviceHost,d=c._servicePath,e=c._serviceApiPath;if(null===b||void 0===b)b=a.protocol+"//"+a.host;if(null===d||void 0===d)a=a.pathname,-1<a.indexOf(".")&&(d=a.lastIndexOf("/"),-1<d&&(a=a.substring(0,d))),d=a;b=f.Service.Utils.combinePaths(b,d,e);c._serviceUri=b;f.LEADDocument.rebuildCacheUriValues()};Object.defineProperty(c,"logErrors",{get:function(){return c._logErrors},set:function(a){c._logErrors=a},enumerable:!0,configurable:!0});c.log=function(a){c.logErrors&&
a&&b.LTHelper.logError(a)};c.isUploadDocumentUri=function(a){if(!a)return!1;a=a.trim();if(!a)return!1;a=a.toLowerCase();return 0===a.indexOf("leadcache://")};Object.defineProperty(c,"loadDocumentFromCache",{get:function(){return c._loadDocumentFromCache},enumerable:!0,configurable:!0});c.tryLoadDocumentFromCache=function(a,b){var d=null;c.loadDocumentFromCache&&(d=new i(a,b),c.loadDocumentFromCache.invoke(a,d),d=d.document);return d};c.loadFromCache=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,
"LoadFromCache"),a=f.Service.Custom.createPostAjaxSettings(b,{documentId:a,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"LoadFromCache",a).done(function(a){f.LEADDocument.fromJson(a.document,!0).done(function(b){b&&(c.documentRefs[b.documentId]?c.incrementDocumentRef(b):c.documentCreated(b));d.resolve(b,f.Internal.PropertyBag.normalizeFalsy(a.userData))})}).fail(d.reject);return d.promise()};c.checkCacheInfo=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,
"CheckCacheInfo"),a=f.Service.Custom.createPostAjaxSettings(b,{uri:a,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"CheckCacheInfo",a).done(function(a){d.resolve(a.cacheInfo,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(d.reject);return d.promise()};c.loadFromUri=function(a,b){b||(b=new f.LoadDocumentOptions);var d=f.Service.Custom.createEndpointUrl(c._controllerName,"LoadFromUri"),d=f.Service.Custom.createPostAjaxSettings(d,{uri:a,resolution:b.resolution,
options:b,userData:c.serviceUserData}),e=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"LoadFromUri",d).done(function(a){f.LEADDocument.fromJson(a.document,!0).done(function(b){b&&(c.documentRefs[b.documentId]?c.incrementDocumentRef(b):c.documentCreated(b));e.resolve(b,f.Internal.PropertyBag.normalizeFalsy(a.userData))})}).fail(e.reject);return e.promise()};c.uploadFile=function(d,k){var f=$.Deferred();if(!b.LTHelper.supportsFileReader)return b.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
f.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable."),f.promise({abort:function(){}});var i=null,j=!1,p=!1;c.beginUpload(k).done(function(b){f.notify(new e(a.created,0,null));i=b;b=new FileReader;b.onloadend=function(b){if(2===b.target.readyState){var k=b.target.result,n=0,g=function(b){n+=1048576;if(!j){var s=100*(n/d.size),s=Math.max(0,Math.min(s,100));n<d.size?(f.notify(new e(a.uploading,s,b)),c.uploadDocument(i,k,n,1048576).done(g).fail(r)):
(p=!0,f.notify(new e(a.finished,s,b)),c.endUpload(i).always(function(){f.resolve(i,b)}))}},r=function(a,b,d){j||(c.log(d),f.reject(a,b,d))};c.uploadDocument(i,k,n,1048576).done(g).fail(r)}};var k=d.slice(0,d.size);b.readAsArrayBuffer(k)}).fail(function(a,b,d){c.log(d);f.reject(a,b,d)});return f.promise({abort:function(){j=!0;p?c.log("Cannot abort after upload has completed"):(c.abortUploadDocument(i),f.notify(new e(a.aborted,0,null)),f.reject(null,null,null))}})};c.beginUpload=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,
"BeginUpload"),a=f.Service.Custom.createPostAjaxSettings(b,{documentId:a||null,options:null,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"BeginUpload",a).done(function(a){d.resolve(a.uploadUri,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(d.reject);return d.promise()};c.uploadDocument=function(a,d,e,k){var i=$.Deferred();if(!b.LTHelper.supportsFileReader)return b.LTHelper.logError("The FileReader API is not supported on this browser - all file manipulation is unavailable."),
i.reject(null,"browsererror","The FileReader API is not supported on this browser - all file manipulation is unavailable.").promise();var j=null,j=ArrayBuffer.prototype.slice?d.slice(e,e+k):f.Internal.ArrayBufferSlicer.slice(d,e,e+k),d=b.LTHelper.base64EncodeFromArrayBuffer(j),e=f.Service.Custom.createEndpointUrl(c._controllerName,"UploadDocument"),a=f.Service.Custom.createPostAjaxSettings(e,{uri:a,data:d,userData:c.serviceUserData});f.Service.Custom.requestAjax(this,c._className,"UploadDocument",
a).done(function(a){i.resolve(f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(i.reject);return i.promise()};c.endUpload=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,"EndUpload"),a=f.Service.Custom.createPostAjaxSettings(b,{uri:a,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"EndUpload",a).done(function(a){d.resolve(f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(function(){d.resolve()});return d.promise()};
c.abortUploadDocument=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,"AbortUploadDocument"),a=f.Service.Custom.createPostAjaxSettings(b,{uri:a,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"AbortUploadDocument",a).done(function(a){d.resolve(f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(function(){d.resolve()});return d.promise()};c.downloadDocument=function(a,d,e,k){var i=f.Service.Custom.createEndpointUrl(c._controllerName,
"DownloadDocument"),a=f.Service.Custom.createGetAjaxSettings(i,{documentId:a,uri:d,position:e,dataSize:k,userData:c.serviceUserData}),j=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"DownloadDocument",a).done(function(a){var d=b.LTHelper.base64DecodeToByteArray(a.data);j.resolve(d,f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(j.reject);return j.promise()};c.saveToCache=function(a){var b=$.Deferred();if(a.isAnyCacheStatusNotSynced){var d=f.Service.Custom.createEndpointUrl(c._controllerName,
"SaveToCache"),d=f.Service.Custom.createPostAjaxSettings(d,{descriptor:a.createDocumentDescriptor(),userData:c.serviceUserData});f.Service.Custom.requestAjax(this,c._className,"SaveToCache",d).done(function(d){f.LEADDocument.fromJson(d.document,!1).done(function(c){if(c){a.isLocal=!1;a.values.documentId=c.documentId;a.values.lastCacheSyncTime=c.values.lastCacheSyncTime;a.cacheStatus=g.synced;a.forEachDocument(function(a){a.cacheStatus=g.synced});c._dispose(!0);for(c=0;c<a.pages.count;c++)a.pages.item(c).isLocal=
!1;a.annotations.modifiedContainers?a.annotations.setAnnotations(a.annotations.modifiedContainers).done(function(){a.annotations.modifiedContainers=null;b.resolve(f.Internal.PropertyBag.normalizeFalsy(d.userData))}).fail(b.reject):b.resolve(f.Internal.PropertyBag.normalizeFalsy(d.userData))}else b.reject(null,null,"Invalid document object")})}).fail(b.reject);return b.promise()}return a.annotations.modifiedContainers?(a.annotations.setAnnotations(a.annotations.modifiedContainers).done(function(){a.annotations.modifiedContainers=
null;b.resolve()}).fail(b.reject),b.promise()):b.resolve().promise()};c.deleteFromCache=function(a){var b=f.Service.Custom.createEndpointUrl(c._controllerName,"Delete"),a=f.Service.Custom.createPostAjaxSettings(b,{documentId:a,userData:c.serviceUserData}),d=$.Deferred();f.Service.Custom.requestAjax(this,c._className,"DeleteFromCache",a).done(function(a){d.resolve(f.Internal.PropertyBag.normalizeFalsy(a.userData))}).fail(d.reject);return d.promise()};Object.defineProperty(c,"prepareAjax",{get:function(){return c._prepareAjax},
enumerable:!0,configurable:!0});c.doPrepareAjax=function(a,b,d,e){b=new p(b,d,e);c._prepareAjax.invoke(a,b);return!b.cancel};c.cancelFromPrepareAjax=function(a,b,d,e){return!c.doPrepareAjax(a,b,d,e)};Object.defineProperty(c,"documentRefs",{get:function(){return this._documentRefs},enumerable:!0,configurable:!0});c.incrementDocumentRef=function(a){c._checkDocumentRefInput(a);a=c._documentRefs[a.documentId];a.refCount++;return a.refCount};c.decrementDocumentRef=function(a){c._checkDocumentRefInput(a);
a=c._documentRefs[a.documentId];if(0>=a.refCount)throw Error("cannot decrement reference below zero");a.refCount--;return a.refCount};c.documentCreated=function(a){if(a&&c._documentRefs[a.documentId])throw Error("document with cacheId already exists");var b=new j;b.document=a;b.refCount=0;c._documentRefs[a.documentId]=b};c.documentDisposed=function(a){c._checkDocumentRefInput(a);0===c._documentRefs[a.documentId].refCount&&(c._documentRefs[a.documentId]=null,delete c._documentRefs[a.documentId])};
c._checkDocumentRefInput=function(a){if(!a||!c._documentRefs[a.documentId])throw Error("document does not exist");};c._className="DocumentFactory";c._controllerName="Factory";c._serviceHost=null;c._servicePath=null;c._serviceApiPath=null;c._serviceUri=null;c._serviceUserData=null;c._logErrors=!0;c._loadDocumentFromCache=b.LeadEvent.create(c,"loadDocumentFromCache");c._prepareAjax=b.LeadEvent.create(c,"prepareAjax");c._documentRefs={};return c}();f.DocumentFactory=c;var p=function(a){function b(d,
c,e){var k=a.call(this)||this;k._sourceClass=d[0].toUpperCase()+d.substr(1,d.length-1);k._sourceMethod=c[0].toUpperCase()+c.substr(1,c.length-1);k._settings=e;k._cancel=!1;return k}__extends(b,a);Object.defineProperty(b.prototype,"sourceClass",{get:function(){return this._sourceClass},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"sourceMethod",{get:function(){return this._sourceMethod},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"settings",{get:function(){return this._settings},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cancel",{get:function(){return this._cancel},set:function(a){this._cancel=a},enumerable:!0,configurable:!0});return b}(b.LeadEventArgs);f.PrepareAjaxEventArgs=p;c=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}__extends(b,a);b.prototype.add=function(b){return a.prototype.add.call(this,b)};b.prototype.remove=function(b){a.prototype.remove.call(this,b)};return b}(b.LeadEvent);f.PrepareAjaxEventType=c})(b.Document||
(b.Document={}))})(lt||(lt={}));eval("ltDocumentsString = String;");
(function(b){(function(f){var g=function(){return function(){this.documentProxy=null;this.successCallbacks=[];this.failCallbacks=[];this.pagesCount=0;this.pages={}}}(),c=function(){return function(){this.pageProxy=null;this.count=0;this.successCallbacks=[];this.failCallbacks=[];this.isInRemovalQueue=!1}}(),a=function(){return function(){this.id=null;this.pageNumber=0}}(),e=function(){function d(){}Object.defineProperty(d,"removalQueueLimit",{get:function(){return d._removalQueueLimit},set:function(a){d._removalQueueLimit=
a},enumerable:!0,configurable:!0});d.loadPageFromDocument=function(a,b,c,e,f){a?d.loadPage(a.documentId,{uri:a.cacheUri,password:a.password},b,c,e,f):e("document does not exist",b)};d.loadPage=function(a,b,c,e,f,m){if(!a||!a.trim().length)f("document does not exist in cache",c);else{var g=d._proxyItems[a];g&&g.documentProxy?(g.successCallbacks=[],g.failCallbacks=[],d.loadPageFromLoadedDocument(a,c,e,f)):d.loadDocumentAsync(a,b,function(){d._proxyItems[a]&&d.loadPageFromLoadedDocument(a,c,e,f)},m)}};
d.loadPageFromLoadedDocument=function(a,b,e,f){var h=d._proxyItems[a],m=h.pages[b];if(m&&m.pageProxy){m.count++;var g=m.pageProxy;setTimeout(function(){e(g)},10)}else m?(m.successCallbacks.push(e),m.failCallbacks.push(f)):(m=new c,m.successCallbacks.push(e),m.failCallbacks.push(f),h.pagesCount++,h.pages[b]=m,d.processRemovalQueue(),h.documentProxy.getPage(b).then(function(c){var e=d._proxyItems[a];if(!e)return c.cleanup(),null;e=e.pages[b];if(!e)return c.cleanup(),null;e.pageProxy=c;e.count+=e.successCallbacks.length;
for(var f=0;f<e.successCallbacks.length;f++)(0,e.successCallbacks[f])(c)||e.count--;e.successCallbacks=[];e.failCallbacks=[];d.tryAddToRemovalQueue(e,a,b);return null},function(c){var e=d._proxyItems[a];if(e){var f=e.pages[b];if(f){for(var j=0;j<f.failCallbacks.length;j++)f.failCallbacks[j](c,b);f.successCallbacks=null;f.failCallbacks=null;e.pagesCount--;e.pages[b]=null}}}))};d.getExistingDocument=function(a){return!a||!a.trim().length?null:(a=d._proxyItems[a])&&a.documentProxy?a.documentProxy:null};
d.loadDocumentAsync=function(a,c,e,f){var h=d._proxyItems[a];if(h)h.successCallbacks.push(e),h.failCallbacks.push(f);else{h=new g;h.successCallbacks.push(e);h.failCallbacks.push(f);d._proxyItems[a]=h;e=function(b){var c=d._proxyItems[a];if(c){for(var e=0;e<c.failCallbacks.length;e++)c.failCallbacks[e](b,-1);c.successCallbacks=null;c.failCallbacks=null;d._proxyItems[a]=null}};if(!c)throw Error("arguments needed to load document");var m=c.headers||null,n=null;m&&(n=[],Object.keys(m).forEach(function(a){n[a]=
m[a]}));f={url:c.uri,type:"GET",data:{},password:c.password,headers:n||{},xhrFields:{withCredentials:!!c.withCredentials}};b.Document.DocumentFactory.doPrepareAjax(a,b.Document.LEADDocument.cacheControllerName,b.Document.LEADDocument.cacheGetDocumentDataMethodName,f)?(f&&(c.uri=f.url,c.password=f.password,c.headers=f.headers,c.withCredentials=!(!f.xhrFields||!f.xhrFields.withCredentials)),f={url:c.uri,password:c.password,httpHeaders:c.headers,withCredentials:c.withCredentials},!f.url&&c.data&&(f.data=
c.data),window.PDFJS.getDocument(f).then(function(b){var c=d._proxyItems[a];if(!c){b.destroy();return null}c.documentProxy=b;for(b=0;b<c.successCallbacks.length;b++)c.successCallbacks[b]();c.successCallbacks=[];c.failCallbacks=[];return null},e)):e("cancelled")}};d.releasePage=function(a,b){if(a&&a.trim().length){var c=d._proxyItems[a];if(c&&(c=c.pages[b]))c.count--,d.tryAddToRemovalQueue(c,a,b)}};d.tryAddToRemovalQueue=function(b,c,e){if(0===b.count&&!b.isInRemovalQueue){var f=new a;f.id=c;f.pageNumber=
e;d._removalQueue.push(f);b.isInRemovalQueue=!0}};d.processRemovalQueue=function(){var a=d._removalQueue;if(a&&a.length){for(var b=[],c=0,e=-1,f=-1,m=a.length-1;0<=m;m--){var g=a[m],o=d._proxyItems[g.id];if(o){var l=o.pages[g.pageNumber];l?0!==l.count?(l.isInRemovalQueue=!1,a[m]=null):c<d.removalQueueLimit?(c++,-1==f?f=m:e=m):(l.pageProxy&&(l.pageProxy.cleanup(),l.pageProxy=null),l.successCallbacks=null,l.failCallbacks=null,o.pagesCount--,o.pages[g.pageNumber]=null,0===o.pagesCount&&(o.documentProxy&&
(o.documentProxy.destroy(),o.documentProxy=null),o.successCallbacks=null,o.failCallbacks=null,d._proxyItems[g.id]=null),a[m]=null):a[m]=null}else a[m]=null}if(-1==e)-1!=f&&b.push(a[f]);else for(m=e;m<=f;m++)g=a[m],null!=g&&b.push(g);d._removalQueue=b}};d._proxyItems={};d._removalQueue=[];d._removalQueueLimit=10;return d}();f.PDFProxyCache=e})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function a(){}Object.defineProperty(a,"isPDFRenderingSupported",{get:function(){var a=window.PDFJS;if("undefined"===typeof a||!a||!a.getDocument)return!1;switch(b.LTHelper.browser){case b.LTBrowser.chrome:case b.LTBrowser.opera:case b.LTBrowser.firefox:case b.LTBrowser.safari:return!0;case b.LTBrowser.internetExplorer:return 10<=b.LTHelper.version&&b.LTHelper.device===b.LTDevice.desktop;case b.LTBrowser.edge:return b.LTHelper.device===b.LTDevice.desktop;
default:return!1}},enumerable:!0,configurable:!0});a.canRenderPage=function(a){return!!a.document&&!a.isLocal&&"application/pdf"===a.document.mimeType&&!!a.document.cacheUri&&!!a.document.cacheUri.trim().length};a.getDeviceScaling=function(a){return(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1)};a.internalDisposeCanvasElement=function(a){a&&(a.parentNode&&a.parentNode.removeChild(a),
a.width=0,a.height=0)};a.disposeCanvasElement=function(c,d){d&&b.LTHelper.browser==b.LTBrowser.firefox?setTimeout(function(){a.internalDisposeCanvasElement(c)},1E3):a.internalDisposeCanvasElement(c)};a.disposeImageElement=function(b){b&&(b.parentNode&&b.parentNode.removeChild(b),b.src=a._smallestPossibleImageSrc)};a.removeTransitions=function(a){if(a){var b=null;void 0!==a.style.transition?b="transition":void 0!==a.style.webkitTransition?b="webkitTransition":void 0!==a.style.msTransition&&(b="msTransition");
a.style[b]="none"}};a._smallestPossibleImageSrc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";return a}();f.PDFRender=g;var c=function(){function a(){var a=this;this._done=null;this._isTaskCancelling=!1;this._task=null;this._promiseSuccess=function(){a._task=null;var b=!1;a._isTaskCancelling&&(a._isTaskCancelling=!1,b=!0);a._done&&a._done(a,b,null);return null};this._promiseFailure=function(b){a._task=null;var c=a._isTaskCancelling=!1,f=null;"cancelled"==b?c=!0:
b instanceof Error?(f=b,-1!==f.toString().indexOf("RenderingCancelledException")&&(c=!0)):f=b&&b.message?Error(b.message):Error(b);a._done&&a._done(a,c,f)}}Object.defineProperty(a.prototype,"done",{get:function(){return this._done},set:function(a){this._done=a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isTaskCancelling",{get:function(){return this._isTaskCancelling},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isTaskRunning",{get:function(){return!!this._task},
enumerable:!0,configurable:!0});a.prototype.cancel=function(){if(!this._isTaskCancelling&&this.isTaskRunning){this._task.cancel();var a=this._task._internalRenderTask;a&&(a._canvas=null);this._isTaskCancelling=!0}};a.prototype.tryRender=function(b,d,c,f,j,p,h){if(this._isTaskCancelling)return!1;if(this.isTaskRunning)return this.cancel(),!1;this._task=a.render(b,d,c,f,j,p,h);this._task.then(this._promiseSuccess,this._promiseFailure);return this.isTaskRunning};a.render=function(a,b,c,i,j,p,h){b._transformMatrix&&
(b._transformMatrix=[1,0,0,1,0,0]);f.PDFText.assignDefaultDrawText(b);c=Math.max(c,i)/Math.max(a.view[2]-a.view[0],a.view[3]-a.view[1]);c=a.getViewport(c);c.transform[4]-=j;c.transform[5]-=p;return a.render({canvasContext:b,transform:1===h?null:[h,0,0,h,0,0],viewport:c})};a.prototype.dispose=function(){this.cancel();this._done=this._task=null};return a}();f.PDFPageRenderer=c;c=function(){function a(b){this._element=null;if(a._useCanvas)this._element=b;else{var d=document.createElement("img");d.src=
b.toDataURL("image/png");this._element=d;g.disposeCanvasElement(b,!1)}}Object.defineProperty(a.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0});a.prototype.dispose=function(b){a._useCanvas?g.disposeCanvasElement(this._element,b):g.disposeImageElement(this._element);this._element=null};a._useCanvas=!(b.LTHelper.browser==b.LTBrowser.safari&&b.LTHelper.OS==b.LTOS.iOS);a._init=void 0;return a}();f.RenderElement=c})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(f){var g=function(){function c(){}c.assignDefaultDrawText=function(a){a.fillText===CanvasRenderingContext2D.prototype.fillText&&(a.fillText=c.default_FillText);a.strokeText===CanvasRenderingContext2D.prototype.strokeText&&(a.strokeText=c.default_StrokeText)};c.getTextForDocumentPage=function(a,b){if(a)if(a.document){var d=a.document;c.getText(d.documentId,{uri:d.cacheUri,password:d.password},a.originalPageNumber,a.size,function(d,c){d&&a.processPageText(d);b(d,c)})}else b(null,
Error("page is not a part of a document"));else b(null,Error("page cannot be null"))};c.getText=function(a,b,d,k,i){var j=function(a){i(null,Error(a))};f.PDFProxyCache.loadPage(a,b,d,function(b){c._getTextFromPage(b,k,function(b,c){f.PDFProxyCache.releasePage(a,d);i(b,c)});return!0},j,j)};c._getTextFromPage=function(a,e,d){var k=document.createElement("canvas");k.width=1;k.height=1;var i=k.getContext("2d"),j=a.view[2]-a.view[0],p=a.view[3]-a.view[1],h=[],g=new b.TextFontRuler(null);c._attachCustomDrawText(i,
h,g);var n=new f.PDFPageRenderer;n.done=function(a,i,n){g.dispose();a.done=null;f.PDFRender.disposeCanvasElement(k,!1);i||n?d(null,Error(i?"cancelled":n.message)):(i=c._createDocumentPageText(h,b.LeadSizeD.create(j,p),e),d(i,null));a.dispose()};n.tryRender(a,i,j,p,0,0,1)};c._measureText=function(a,b,d,c){if(0<d.font.widths.length){var f=d.font.widths[c.charCodeAt(0)];if(!isNaN(f))return f*=d.fontSize/d.fontSizeScale/1E3}b.font=a.font;return b.measure(c).width};c._attachCustomDrawText=function(a,c,
d){var f=this,i=function(a,i,h,g,n,o,l){isNaN(l)&&l&&g&&g.length&&g.trim().length&&(i=f._measureText(a,d,l,g),h=a[b.LTHelper.browser===b.LTBrowser.firefox?"mozCurrentTransform":"_transformMatrix"],h=Array.prototype.slice.apply(h),c.push({text:g,x:n,y:o,textWidth:i,spaceWidth:f._measureText(a,d,l," "),contextTransform:h,isRightToLeft:-1===l.fontDirection,fontSize:l.fontSize,fontSizeScale:l.fontSizeScale,fontAscent:l.font.ascent,fontDescent:l.font.descent}))};a.fillText=function(a,b,d,c){i(this,CanvasRenderingContext2D.prototype.fillText,
!1,a,b,d,c)};a.strokeText=function(a,b,d,c){i(this,CanvasRenderingContext2D.prototype.strokeText,!0,a,b,d,c)}};c._createDocumentPageText=function(a,c,d){if(!a||!a.length||c.isEmpty)return null;var k=[],i=b.LeadMatrix.identity,j=b.LeadRectD.create(0,0,0,0),d=d.height/c.height,c=b.LeadMatrix.identity;c.scale(d,d);for(d=0;d<a.length;d++){var g=a[d];if(g){var h=g.text;if(h&&0!==h.trim().length){var i=g.contextTransform,i=b.LeadMatrix.create(i[0],i[1],i[2],i[3],i[4],i[5]),j=g.fontSize/g.fontSizeScale,
m=g.fontAscent,n=g.fontDescent;if(1<m-n)var o=1/(m-n),m=m*o,n=n*o;j=b.LeadRectD.create(g.x,g.y-j*m,g.textWidth,j*(m-n));j=i.transformRect(j);j=c.transformRect(j);i=g.spaceWidth*(j.width/g.textWidth);m=new f.DocumentCharacter;m.code=h;m.bounds=j;m.isRightToLeft=g.isRightToLeft;m.spaceWidth=i;k.push(m)}}}f.Internal.DocumentTextSorter.sortCharacters(k);return new f.DocumentPageText(k)};c.default_FillText=null;c.default_StrokeText=null;c._init=function(){c.default_FillText=function(a,b,d,c){isNaN(c)?
CanvasRenderingContext2D.prototype.fillText.call(this,a,b,d):CanvasRenderingContext2D.prototype.fillText.call(this,a,b,d,c)};c.default_StrokeText=function(a,b,d,c){isNaN(c)?CanvasRenderingContext2D.prototype.strokeText.call(this,a,b,d):CanvasRenderingContext2D.prototype.strokeText.call(this,a,b,d,c)}}();return c}();f.PDFText=g})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){(function(g){var c=function(){function a(){}a.cancelDeferredPromise=function(a){return a.reject(null,"Canceled","Canceled").promise()};a.combinePaths=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];var f=!1;return b.map(function(b){b&&(b=b.trim());b=a.loopTrimSlashes(b,f,!0);if(!b)return null;f=!0;return b}).filter(function(a){return!!a}).join("/")};a.loopTrimSlashes=function(b,c,f){for(var j=a.trimSlashes(b,c,f);b!==j;)b=j,j=a.trimSlashes(b,c,f);return j};
a.trimSlashes=function(a,b,c){a&&b&&"/"===a[0]&&(a=a.substr(1));a&&c&&"/"===a[a.length-1]&&(a=a.substring(0,a.length-1));return a};a.addParamsToUrl=function(a,b,c){var a=a+"?",e=Object.keys(b);e.forEach(function(f,h){var g=b[f];a=c?a+(encodeURIComponent(f)+"="+encodeURIComponent(g)):a+(f+"="+g);h!=e.length-1&&(a+="&")});return a};return a}();g.Utils=c;var a=function(){function a(){}a.createEndpointUrl=function(a,e){return c.combinePaths(b.DocumentFactory.serviceUri,a,e)};a.createGetUrl=function(a,
b,e){return c.addParamsToUrl(a,b,e)};a.createEndpointGetUrl=function(b,c,f,j){b=a.createEndpointUrl(b,c);return a.createGetUrl(b,f,j)};a.createGetAjaxSettings=function(a,c){return b.Internal.ServiceTools.createAjaxSettings(a,b.Internal.ServiceMethod.GET,c)};a.createPostAjaxSettings=function(a,c){return b.Internal.ServiceTools.createAjaxSettings(a,b.Internal.ServiceMethod.POST,c)};a.requestAjax=function(a,e,i,j){var g=$.Deferred();if(!b.DocumentFactory.doPrepareAjax(a,e,i,j))return c.cancelDeferredPromise(g);
$.ajax(j).done(function(a){g.resolve(a)}).fail(function(a,b,c){g.reject(a,b,c)});return g.promise()};return a}();g.Custom=a})(b.Service||(b.Service={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
(function(b){(function(b){var g=function(){function c(){this._detail=this._message=null;this._code=0;this._methodName=this._exceptionType=this._link=null;this._statusCode=500;this._errorThrown=this._statusText=this._jqXHR=this._userData=null;this._isTimeoutError=this._isBrowserError=this._isCancelError=this._isParseError=this._isAbortError=!1}Object.defineProperty(c.prototype,"message",{get:function(){return this._message},set:function(a){this._message=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"detail",{get:function(){return this._detail},set:function(a){this._detail=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"code",{get:function(){return this._code},set:function(a){this._code=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"link",{get:function(){return this._link},set:function(a){this._link=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"exceptionType",{get:function(){return this._exceptionType},set:function(a){this._exceptionType=
a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"methodName",{get:function(){return this._methodName},set:function(a){this._methodName=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"statusCode",{get:function(){return this._statusCode},set:function(a){this._statusCode=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"userData",{get:function(){return this._userData},set:function(a){this._userData=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"jqXHR",{get:function(){return this._jqXHR},set:function(a){this._jqXHR=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"statusText",{get:function(){return this._statusText},set:function(a){this._statusText=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"errorThrown",{get:function(){return this._errorThrown},set:function(a){this._errorThrown=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isAbortError",{get:function(){return this._isAbortError},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isParseError",{get:function(){return this._isParseError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isCancelError",{get:function(){return this._isCancelError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isBrowserError",{get:function(){return this._isBrowserError},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"isTimeoutError",{get:function(){return this._isTimeoutError},
enumerable:!0,configurable:!0});c.create=function(a,b,d,f,i,j,g,h,m,n,o){var l=new c;l._message=a;l._detail=b;l._code=d;l._link=f;l._exceptionType=i;l._methodName=j;l._statusCode=g;l._userData=h;l._jqXHR=m;l._statusText=n;l._errorThrown=o;l._isAbortError=!m&&"abort"===n&&!o;l._isParseError="parsererror"==n&&!!o;l._isCancelError=!m&&"Canceled"===n&&"Canceled"===o;l._isBrowserError="browsererror"==n&&!!o;l._isTimeoutError="timeout"===n&&"timeout"===o;if(m&&!l._isAbortError&&!l.isParseError&&!l._isCancelError&&
!l.isBrowserError&&!l._isTimeoutError)try{"timeout"===m.getResponseHeader(c.timeoutHeader)&&(l._isTimeoutError=!0)}catch(q){}return l};c.parseError=function(a,e,d){if(!a&&!e&&!d)return c.create(null,null,null,null,null,null,null,null,null,"abort",null);if(!a&&"Canceled"===e&&"Canceled"===d||!a&&"browsererror"===e||"timeout"===e&&"timeout"===d)return c.create(null,null,null,null,null,null,null,null,null,e,d);var k=null;try{k=JSON.parse(a.responseText)}catch(i){return b.DocumentFactory.log("Could not parse JSON from Error"),
c.create(null,null,null,null,null,null,null,null,a,e||"parsererror",d?d:"The response error object could not be parsed from JSON.")}return c.create(k.message,k.detail,k.code,k.link,k.exceptionType,k.methodName,k.statusCode,k.userData,a,e,d)};c.timeoutHeader="lead-err";return c}();b.ServiceError=g})(b.Document||(b.Document={}))})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));
(function(b){b=b.Document||(b.Document={});b=b.Service||(b.Service={});b.Converter||(b.Converter={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));
(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));(function(b){b=b.Document||(b.Document={});b.Service||(b.Service={})})(lt||(lt={}));
(function(b){(function(f){(function(g){var c;(function(a){a[a.GET=0]="GET";a[a.POST=1]="POST"})(c=g.ServiceMethod||(g.ServiceMethod={}));var a=function(){function a(){}a.createAjaxSettings=function(a,b,d){var a={url:a},e=null;b===c.POST?(e="POST",d&&(a.data=JSON.stringify(d),a.contentType="application/json; charset=utf-8")):(e="GET",d&&(a.data=d),a.headers={"cache-control":"no-cache"});a.type=e;a.method=e;return a};a.createImageAjaxSettings=function(e,i,j,g){if(e===b.ImageLoaderUrlMode.imageUrl)return null;
j||(j=f.DocumentImages.elementAjaxMethod);e="post"===j.toLowerCase()?c.POST:c.GET;return a.createAjaxSettings(i,e,g)};return a}();g.ServiceTools=a;var e=function(){function c(){}c.doGenericElementLoad=function(c,d,e,p,h,m,n){var o=(c=!!e)?e.urlMode:f.DocumentImages.elementUrlMode,l=a.createImageAjaxSettings(o,p,c?e.ajaxOptions.method:f.DocumentImages.elementAjaxMethod,h);c||(e=new b.ImageLoader,e.urlMode=o);var q;q=function(a,b){e.preRun.remove(q);var c=b.cancel;if(!c){l&&!f.DocumentFactory.doPrepareAjax(a,
m,n,l)&&(c=true);l?g.ImageRequestHelper.setAjaxSettings(e,l):e.url=f.Service.Custom.createGetUrl(p,h,true);g.ImageRequestHelper.setImageLoaderCallbacks(e,d)}if(c){d.reject(null,"Canceled","Canceled").promise();b.cancel=true}};e.preRun.add(q);c||e.run();return d.promise()};c.setAjaxSettings=function(a,b){var c=a.ajaxOptions,d=b.headers;d&&Object.keys(d).forEach(function(a){c.headers[a]=d[a]});c.method=b.method||b.type;if(c.method)if("get"===c.method.toLowerCase())a.url=f.Service.Custom.createGetUrl(b.url,
b.data,!0);else if("post"===c.method.toLowerCase()){if(!d||!d["content-type"]&&!d.contentType)c.headers["content-type"]=b.contentType;a.url=b.url;c.postData=b.data}};c.setImageLoaderCallbacks=function(a,b){var c=function(a){b.resolve(a.element)},d=function(a){f.DocumentFactory.log(a.error.message);b.reject(null,"error",a.error)},e=null,e=function(){a.done.remove(c);a.fail.remove(d);a.always.remove(e)};a.done.add(c);a.fail.add(d);a.always.add(e)};return c}();g.ImageRequestHelper=e;e=function(){function a(){}
a.formatDate=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getFullYear(),e=a.getHours(),f=11<e?"PM":"AM";12<e&&(e-=12);0===e&&(e=12);var g=a.getMinutes();10>g&&(g="0"+g);a=a.getSeconds();10>a&&(a="0"+a);return b+"/"+c+"/"+d+" "+e+":"+g+":"+a+" "+f};return a}();g.Formatting=e;e=function(){function a(){}a.newGuid=function(){return b.LTHelper.newGuid()};return a}();g.Guid=e;e=function(){function a(){}a.normalizeFalsy=function(a){return"undefined"===typeof a?null:a};a.copyMatchingProperties=function(a,
c,d){Object.getOwnPropertyNames(c).forEach(function(e){if(1<e.length&&"_"===e.charAt(0)&&"_"!==e.charAt(1)){var f=e.substr(1);if(!(null!=d&&-1!=d.indexOf(f))){if(!a.hasOwnProperty(f))return!1;var g=c[e],f=a[f];c[e]=g instanceof Date?new Date(Date.parse(f)):g instanceof b.LeadPointD?b.LeadPointD.fromJSON(f):g instanceof b.LeadSizeD?b.LeadSizeD.fromJSON(f):g instanceof b.LeadRectD?b.LeadRectD.fromJSON(f):g instanceof b.Document.ConvertItem?b.Document.ConvertItem.fromJson(f):f}}});return!0};return a}();
g.PropertyBag=e;e=function(){function a(){}a.slice=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.byteLength);b=Math.floor(b);c=Math.floor(c);0>b&&(b+=a.byteLength);0>c&&(c+=a.byteLength);b=Math.min(Math.max(0,b),a.byteLength);c=Math.min(Math.max(0,c),a.byteLength);if(0>=c-b)return new ArrayBuffer(0);var d=new ArrayBuffer(c-b),e=new Uint8Array(d),a=new Uint8Array(a,b,c-b);e.set(a);return d};return a}();g.ArrayBufferSlicer=e;e=function(){function a(){}a._sortElementsXY=function(a,b){return a.bounds.top===
b.bounds.top?Math.floor(a.bounds.left-b.bounds.left):Math.floor(a.bounds.top-b.bounds.top)};a._compareElements=function(a,b){return b.bounds.left<a.bounds.left&&(b.bounds.top>a.bounds.top&&b.bounds.top+0.3*b.bounds.height<a.bounds.bottom||b.bounds.bottom>a.bounds.top&&b.bounds.bottom-0.3*b.bounds.height<a.bounds.top||2>=Math.abs(b.bounds.top+b.bounds.height/2-(a.bounds.top+a.bounds.height/2))||b.bounds.top>a.bounds.top&&b.bounds.top<a.bounds.bottom&&b.bounds.right>a.bounds.left&&b.bounds.right<a.bounds.right)};
a._swapElements=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};a._sortTextLines=function(b){var c=!1;do{for(var c=!1,e=0;e<=b.length-2;e++){var f=a._compareElements(b[e],b[e+1]);f&&(a._swapElements(b,e,e+1),c=!0)}if(!c)break;c=!1;for(e=b.length-2;0<=e;e--)if(f=a._compareElements(b[e],b[e+1]))a._swapElements(b,e,e+1),c=!0}while(c)};a._markEndOfLine=function(a){a.isEndOfWord=!0;a.isEndOfLine=!0;a.isLineBreak=!0};a._markLineBreak=function(a){a.isEndOfWord=!0;a.isLineBreak=!0};a._setCharactersFlags=function(b){for(var c=
!1,e=[],f=0;f<b.length-1;f++){var g=b[f],m=b[f+1],n=g.bounds.height*a.LINE_MAX_TOLERANCE;if(m.bounds.top+m.bounds.height*a.LINE_MAX_TOLERANCE>=g.bounds.top+g.bounds.height||m.bounds.top>=g.bounds.top+g.bounds.height-n)a._markEndOfLine(g),c=!0,e.push(f);else{var n=g.spaceWidth*a.SPACE_MAX_TOLERANCE,o=m.bounds.left,l=g.bounds.right;Math.ceil(l+n)<Math.floor(o)&&(g.isEndOfWord=!0);Math.ceil(l+6*n)<Math.floor(o)&&(a._markLineBreak(g),e.push(f))}if(c){for(c=0;c<e.length;c++)g=e[c],b[g].bounds.bottom+(b[g].bounds.height+
m.bounds.height)/2<m.bounds.top&&(b[g].isEndOfParagraph=!0);e=[];c=!1}}for(c=0;c<e.length;c++)g=e[c],b[g].isEndOfParagraph=!0;b=b[b.length-1];a._markEndOfLine(b);b.isEndOfParagraph=!0};a.sortCharacters=function(b){if(!b)throw Error("chars cannot be null");b.length&&(b.sort(a._sortElementsXY),a._sortTextLines(b),a._setCharactersFlags(b))};a.LINE_MAX_TOLERANCE=0.125;a.SPACE_MAX_TOLERANCE=0.33;return a}();g.DocumentTextSorter=e;e=function(){function a(){}a.getBoundingRect=function(a){for(var c=a[0].x,
d=a[0].y,e=c,f=d,g=1;g<a.length;g++)if(a[g].x<c&&(c=a[g].x),a[g].x>e&&(e=a[g].x),a[g].y<d&&(d=a[g].y),a[g].y>f)f=a[g].y;return b.LeadRectD.fromLTRB(c,d,e,f)};a.getCornerPoints=function(a){var c=a.isEmpty;return[!c?b.LeadPointD.create(a.left,a.top):b.LeadPointD.create(0,0),!c?b.LeadPointD.create(a.right,a.top):b.LeadPointD.create(0,0),!c?b.LeadPointD.create(a.right,a.bottom):b.LeadPointD.create(0,0),!c?b.LeadPointD.create(a.left,a.bottom):b.LeadPointD.create(0,0)]};a.transformRect=function(b,c){var e=
a.getCornerPoints(b);c.transformPoints(e);return a.getBoundingRect(e)};return a}();g.PrimitivesHelper=e})(f.Internal||(f.Internal={}))})(b.Document||(b.Document={}))})(lt||(lt={}));
